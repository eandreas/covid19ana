---

title: module name here


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="To-Do-and-Ideas">To-Do and Ideas<a class="anchor-link" href="#To-Do-and-Ideas"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Data">Data<a class="anchor-link" href="#Data"> </a></h4><ul>
<li>new confirmed cases / day</li>
<li>number of test / day</li>
<li>% of positive tests / day</li>
<li>new icu / day</li>
<li>new resp / day</li>
<li>new death / day</li>
<li>new and total quarantined</li>
</ul>
<h4 id="Features">Features<a class="anchor-link" href="#Features"> </a></h4><ul>
<li>completness of data (what about missing days?)</li>
<li>hotspots: automatically plot hottest cantons</li>
<li>show all data and filtered data (as in the gas/oil example)</li>
<li>map of hottest area</li>
</ul>
<h4 id="Other">Other<a class="anchor-link" href="#Other"> </a></h4><ul>
<li>newsletter for intersted people?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#</span>
<span class="c1">#folder = &#39;../openZH_covid-19/fallzahlen_kanton_total_csv&#39;</span>
<span class="c1">#folder_v2 = &#39;../openZH_covid-19/fallzahlen_kanton_total_csv_v2&#39;</span>
<span class="c1">#prefix_fn = &#39;COVID19_Fallzahlen_Kanton&#39;</span>
<span class="c1">#postfix_fn = &#39;total.csv&#39;</span>
<span class="c1">#</span>
<span class="c1">#print(f&#39;{folder_v2}/{prefix_fn}_*_{postfix_fn}.csv&#39;)</span>
<span class="c1">#</span>
<span class="c1">#for f in glob.glob(f&#39;{folder_v2}/{prefix_fn}_*_{postfix_fn}&#39;):</span>
<span class="c1">#    dfs.append(pd.read_csv(f))</span>
<span class="c1">#</span>
<span class="c1">#df = pd.concat(dfs)</span>
<span class="c1">#df[&#39;date&#39;] = pd.to_datetime(df[&#39;date&#39;], dayfirst=True)</span>
<span class="c1">#</span>
<span class="c1">#df.head(1000)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Check-data-and-columns-for-changes">Check data and columns for changes<a class="anchor-link" href="#Check-data-and-columns-for-changes"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">rem</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Returns a list containing all elements of lst not present in rem.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rem</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch_v2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv&#39;</span><span class="p">)</span>
<span class="n">col_CH</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_ch_v2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># column names of ZH file as a list</span>
<span class="n">df_ZH_v2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../openZH_covid-19/fallzahlen_kanton_total_csv_v2/COVID19_Fallzahlen_Kanton_ZH_total.csv&#39;</span><span class="p">)</span>
<span class="n">col_ZH</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_ZH_v2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># current/previously available collumns</span>
<span class="n">col_prev</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;abbreviation_canton_and_fl&#39;</span><span class="p">,</span> <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span> <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;new_hosp&#39;</span><span class="p">,</span>
           <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span> <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span> <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span> <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span> <span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">,</span>
           <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span> <span class="s1">&#39;current_quarantined&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;columns present in col_CH only: </span><span class="si">{</span><span class="n">remove</span><span class="p">(</span><span class="n">col_CH</span><span class="p">,</span> <span class="n">col_ZH</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;columns present in col_ZH only: </span><span class="si">{</span><span class="n">remove</span><span class="p">(</span><span class="n">col_ZH</span><span class="p">,</span> <span class="n">col_CH</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;new available columns: </span><span class="si">{</span><span class="n">remove</span><span class="p">(</span><span class="n">col_CH</span><span class="p">,</span> <span class="n">col_prev</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>columns present in col_CH only: []
columns present in col_ZH only: [&#39;current_quarantined_riskareatravel&#39;, &#39;current_quarantined_total&#39;]
new available columns: []
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="App-Methods">App Methods<a class="anchor-link" href="#App-Methods"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Load-cantonal-csv-files-and-merge-to-total-for-Switzerland">Load cantonal csv-files and merge to total for Switzerland<a class="anchor-link" href="#Load-cantonal-csv-files-and-merge-to-total-for-Switzerland"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add_diff_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">new_col</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="n">new_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span> <span class="nf">get_CH_data_total</span><span class="p">():</span>
    <span class="c1"># where to find the data files</span>
    <span class="n">folder_v2</span> <span class="o">=</span> <span class="s1">&#39;/Users/eandreas/projects/dev/covid-19/openZH_covid-19/fallzahlen_kanton_total_csv_v2&#39;</span>
    <span class="n">prefix_c_fn</span> <span class="o">=</span> <span class="s1">&#39;COVID19_Fallzahlen_Kanton&#39;</span>
    <span class="n">prefix_fn</span> <span class="o">=</span> <span class="s1">&#39;COVID19_Fallzahlen&#39;</span>
    <span class="n">postfix_fn</span> <span class="o">=</span> <span class="s1">&#39;total.csv&#39;</span>

    <span class="n">dfs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CANTONS</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    
        <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;FL&quot;</span><span class="p">):</span>
            <span class="n">file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_v2</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">prefix_fn</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">postfix_fn</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_v2</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">prefix_c_fn</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">postfix_fn</span><span class="si">}</span><span class="s1">&#39;</span>
    
        <span class="n">dfc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
        <span class="c1"># mark current rows as reported by cantons</span>
        <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    
        <span class="c1"># add rows for missing (unreported) days</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">dfc</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">dfc</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="n">dfc</span> <span class="o">=</span> <span class="n">dfc</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
        <span class="n">dfc</span> <span class="o">=</span> <span class="n">dfc</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="n">dfc</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
        <span class="n">dfc</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># flag added rows as &#39;reported = False&#39;</span>
        <span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    
        <span class="c1"># fill unreported numbers (NaN) with number of last reported</span>
        <span class="n">dfc</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
        <span class="c1"># fill missing values at the beginning with zero</span>
        <span class="n">dfc</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
        <span class="c1"># add some columns with calculated values of interest</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span> <span class="s1">&#39;new_tested&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;new_conf&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;new_deceased&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_hosp&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_icu&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_vent&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_isolated&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_quarantined&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_quarantined&#39;</span><span class="p">)</span>
        <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span> <span class="s1">&#39;new_released&#39;</span><span class="p">)</span>

        <span class="c1"># add 7-day simple mean averages</span>
        <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;new_conf_SMA7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;new_conf&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;current_hosp_SMA7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;current_hosp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
    
        <span class="c1"># append the dataframe and go on with the next canton</span>
        <span class="n">dfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dfc</span><span class="p">)</span>

    <span class="c1"># sum up all the cantons dataframes</span>
    <span class="n">df_ch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">min_count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df_ch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
    <span class="n">df_ch</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># the SMA7 gets broken for incomplete data (missing cantons) when summing up, so let&#39;s recalculate</span>
    <span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;new_conf_SMA7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;new_conf&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;current_hosp_SMA7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;current_hosp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df_ch</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span> <span class="o">=</span> <span class="n">get_CH_data_total</span><span class="p">()</span>
<span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;new_conf&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-7-5b5c2ff66be1&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df_ch <span class="ansi-blue-fg">=</span> get_CH_data_total<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> df_ch<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;new_conf&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>tail<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-6-f69eb26d0e9e&gt;</span> in <span class="ansi-cyan-fg">get_CH_data_total</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">     12</span>     dfs <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">     13</span> 
<span class="ansi-green-fg">---&gt; 14</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">for</span> c <span class="ansi-green-fg">in</span> CANTONS<span class="ansi-blue-fg">.</span>values<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     15</span> 
<span class="ansi-green-intense-fg ansi-bold">     16</span>         <span class="ansi-green-fg">if</span> <span class="ansi-blue-fg">(</span>c <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#34;FL&#34;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">NameError</span>: name &#39;CANTONS&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="o">.</span><span class="n">ncumul_conf</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Load-BAG-data-for-testing-information">Load BAG data for testing information<a class="anchor-link" href="#Load-BAG-data-for-testing-information"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_BAG_data</span><span class="p">():</span>
    <span class="n">df_bag</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/Users/eandreas/projects/dev/covid-19/bag_data/bag_data.csv&#39;</span><span class="p">)</span>

    <span class="c1"># split datetime column into a date and a time column</span>
    <span class="n">time_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">time</span>
    <span class="n">df_bag</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">time_list</span><span class="p">)</span>                 
    <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
    <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>

    <span class="c1"># remove the rows without information (NaN for total_number_of_tests)</span>
    <span class="n">df_bag</span> <span class="o">=</span> <span class="n">df_bag</span><span class="p">[</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;total_number_of_tests&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
    
    <span class="c1"># add column with number of positive and negative tests</span>
    <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;ncumul_test_pos&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;total_number_of_tests&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;positivity_rate_percent&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;ncumul_test_neg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;total_number_of_tests&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;ncumul_test_pos&#39;</span><span class="p">]</span>
    
    <span class="c1"># calculate and add a column wit newly tested cases per day</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_bag</span><span class="p">,</span> <span class="s1">&#39;total_number_of_tests&#39;</span><span class="p">,</span> <span class="s1">&#39;new_tested&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_bag</span><span class="p">,</span> <span class="s1">&#39;ncumul_test_pos&#39;</span><span class="p">,</span> <span class="s1">&#39;new_test_pos&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_bag</span><span class="p">,</span> <span class="s1">&#39;ncumul_test_neg&#39;</span><span class="p">,</span> <span class="s1">&#39;new_test_neg&#39;</span><span class="p">)</span>
    
    <span class="c1"># add pos_rate / day</span>
    <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;new_positivity_rate_percent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;new_test_pos&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;new_tested&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df_bag</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bag</span> <span class="o">=</span> <span class="n">get_BAG_data</span><span class="p">()</span>
<span class="n">df_bag</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>time</th>
      <th>total_number_of_tests</th>
      <th>positivity_rate_percent</th>
      <th>isolated</th>
      <th>quarantined</th>
      <th>quarantined_travel</th>
      <th>source_file</th>
      <th>ncumul_test_pos</th>
      <th>ncumul_test_neg</th>
      <th>new_tested</th>
      <th>new_test_pos</th>
      <th>new_test_neg</th>
      <th>new_positivity_rate_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>158</th>
      <td>2020-08-11</td>
      <td>08:00:00</td>
      <td>847325.0</td>
      <td>5.2</td>
      <td>1331.0</td>
      <td>4212.0</td>
      <td>13994.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>44061.0</td>
      <td>803264.0</td>
      <td>4816.0</td>
      <td>251.0</td>
      <td>4565.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>159</th>
      <td>2020-08-12</td>
      <td>08:00:00</td>
      <td>854885.0</td>
      <td>5.2</td>
      <td>1331.0</td>
      <td>4446.0</td>
      <td>18244.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>44454.0</td>
      <td>810431.0</td>
      <td>7560.0</td>
      <td>393.0</td>
      <td>7167.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>160</th>
      <td>2020-08-13</td>
      <td>08:00:00</td>
      <td>861555.0</td>
      <td>5.2</td>
      <td>1357.0</td>
      <td>4550.0</td>
      <td>18086.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>44801.0</td>
      <td>816754.0</td>
      <td>6670.0</td>
      <td>347.0</td>
      <td>6323.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>161</th>
      <td>2020-08-14</td>
      <td>08:00:00</td>
      <td>868886.0</td>
      <td>5.2</td>
      <td>1535.0</td>
      <td>4553.0</td>
      <td>15928.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45182.0</td>
      <td>823704.0</td>
      <td>7331.0</td>
      <td>381.0</td>
      <td>6950.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>162</th>
      <td>2020-08-15</td>
      <td>08:00:00</td>
      <td>876065.0</td>
      <td>5.2</td>
      <td>1568.0</td>
      <td>4632.0</td>
      <td>16131.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45555.0</td>
      <td>830510.0</td>
      <td>7179.0</td>
      <td>373.0</td>
      <td>6806.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>163</th>
      <td>2020-08-16</td>
      <td>08:00:00</td>
      <td>881683.0</td>
      <td>5.2</td>
      <td>1568.0</td>
      <td>4632.0</td>
      <td>16127.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45848.0</td>
      <td>835835.0</td>
      <td>5618.0</td>
      <td>293.0</td>
      <td>5325.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>164</th>
      <td>2020-08-17</td>
      <td>08:00:00</td>
      <td>884472.0</td>
      <td>5.2</td>
      <td>1568.0</td>
      <td>4632.0</td>
      <td>16125.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45993.0</td>
      <td>838479.0</td>
      <td>2789.0</td>
      <td>145.0</td>
      <td>2644.0</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>165</th>
      <td>2020-08-18</td>
      <td>08:00:00</td>
      <td>890289.0</td>
      <td>5.1</td>
      <td>1570.0</td>
      <td>4754.0</td>
      <td>16260.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45405.0</td>
      <td>844884.0</td>
      <td>5817.0</td>
      <td>-588.0</td>
      <td>6405.0</td>
      <td>-10.1</td>
    </tr>
    <tr>
      <th>166</th>
      <td>2020-08-19</td>
      <td>08:00:00</td>
      <td>901074.0</td>
      <td>5.1</td>
      <td>1853.0</td>
      <td>6532.0</td>
      <td>21546.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>45955.0</td>
      <td>855119.0</td>
      <td>10785.0</td>
      <td>550.0</td>
      <td>10235.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>167</th>
      <td>2020-08-20</td>
      <td>08:00:00</td>
      <td>910283.0</td>
      <td>5.1</td>
      <td>1877.0</td>
      <td>6667.0</td>
      <td>21421.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>46424.0</td>
      <td>863859.0</td>
      <td>9209.0</td>
      <td>469.0</td>
      <td>8740.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>168</th>
      <td>2020-08-21</td>
      <td>08:00:00</td>
      <td>920489.0</td>
      <td>5.1</td>
      <td>1572.0</td>
      <td>4821.0</td>
      <td>14181.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>46945.0</td>
      <td>873544.0</td>
      <td>10206.0</td>
      <td>521.0</td>
      <td>9685.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>169</th>
      <td>2020-08-22</td>
      <td>08:00:00</td>
      <td>930416.0</td>
      <td>5.1</td>
      <td>1739.0</td>
      <td>5742.0</td>
      <td>15037.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>47451.0</td>
      <td>882965.0</td>
      <td>9927.0</td>
      <td>506.0</td>
      <td>9421.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>170</th>
      <td>2020-08-23</td>
      <td>08:00:00</td>
      <td>937488.0</td>
      <td>5.1</td>
      <td>1739.0</td>
      <td>5769.0</td>
      <td>15008.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>47812.0</td>
      <td>889676.0</td>
      <td>7072.0</td>
      <td>361.0</td>
      <td>6711.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>171</th>
      <td>2020-08-24</td>
      <td>08:00:00</td>
      <td>941798.0</td>
      <td>5.1</td>
      <td>1739.0</td>
      <td>5740.0</td>
      <td>15033.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>48032.0</td>
      <td>893766.0</td>
      <td>4310.0</td>
      <td>220.0</td>
      <td>4090.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>172</th>
      <td>2020-08-25</td>
      <td>08:00:00</td>
      <td>948439.0</td>
      <td>5.1</td>
      <td>1729.0</td>
      <td>5702.0</td>
      <td>15044.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>48370.0</td>
      <td>900069.0</td>
      <td>6641.0</td>
      <td>338.0</td>
      <td>6303.0</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>173</th>
      <td>2020-08-26</td>
      <td>08:00:00</td>
      <td>962895.0</td>
      <td>5.0</td>
      <td>1973.0</td>
      <td>7971.0</td>
      <td>15285.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>48145.0</td>
      <td>914750.0</td>
      <td>14456.0</td>
      <td>-225.0</td>
      <td>14681.0</td>
      <td>-1.6</td>
    </tr>
    <tr>
      <th>174</th>
      <td>2020-08-27</td>
      <td>08:00:00</td>
      <td>975563.0</td>
      <td>5.0</td>
      <td>2150.0</td>
      <td>8498.0</td>
      <td>16081.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>48778.0</td>
      <td>926785.0</td>
      <td>12668.0</td>
      <td>633.0</td>
      <td>12035.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>175</th>
      <td>2020-08-28</td>
      <td>08:00:00</td>
      <td>988383.0</td>
      <td>5.0</td>
      <td>1525.0</td>
      <td>4255.0</td>
      <td>11019.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>49419.0</td>
      <td>938964.0</td>
      <td>12820.0</td>
      <td>641.0</td>
      <td>12179.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>176</th>
      <td>2020-08-29</td>
      <td>08:00:00</td>
      <td>1000884.0</td>
      <td>5.0</td>
      <td>1737.0</td>
      <td>5024.0</td>
      <td>11885.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>50044.0</td>
      <td>950840.0</td>
      <td>12501.0</td>
      <td>625.0</td>
      <td>11876.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>177</th>
      <td>2020-08-30</td>
      <td>08:00:00</td>
      <td>1010948.0</td>
      <td>4.9</td>
      <td>1802.0</td>
      <td>5415.0</td>
      <td>12191.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>49536.0</td>
      <td>961412.0</td>
      <td>10064.0</td>
      <td>-508.0</td>
      <td>10572.0</td>
      <td>-5.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bag</span><span class="p">[</span><span class="n">df_bag</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-08-09&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>time</th>
      <th>total_number_of_tests</th>
      <th>positivity_rate_percent</th>
      <th>isolated</th>
      <th>quarantined</th>
      <th>quarantined_travel</th>
      <th>source_file</th>
      <th>ncumul_test_pos</th>
      <th>ncumul_test_neg</th>
      <th>new_tested</th>
      <th>new_test_pos</th>
      <th>new_test_neg</th>
      <th>new_positivity_rate_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>156</th>
      <td>2020-08-09</td>
      <td>08:00:00</td>
      <td>840409.0</td>
      <td>5.2</td>
      <td>1301.0</td>
      <td>4071.0</td>
      <td>13856.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>43701.0</td>
      <td>796708.0</td>
      <td>4685.0</td>
      <td>243.0</td>
      <td>4442.0</td>
      <td>5.2</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Load-BAG-report-data">Load BAG report data<a class="anchor-link" href="#Load-BAG-report-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_BAG_report_data</span><span class="p">():</span>
    <span class="n">df_bag_report</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/200325_Datengrundlage_Grafiken_COVID-19-Bericht.xlsx&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">df_bag_report</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_bag_report</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">])</span>
    <span class="n">df_bag_report</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Datum&#39;</span><span class="p">:</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Fallzahlen pro Tag&#39;</span><span class="p">:</span><span class="s1">&#39;new_conf&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Fallzahlen pro Tag, kumuliert&#39;</span><span class="p">:</span><span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Hospitalisationen pro Tag&#39;</span><span class="p">:</span><span class="s1">&#39;new_hosp&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Hospitalisationen pro Tag, Kumuliert&#39;</span><span class="p">:</span><span class="s1">&#39;ncumul_hosp&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Todesfälle pro Tag&#39;</span><span class="p">:</span><span class="s1">&#39;new_deceased&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Todesfälle pro Tag, kumuliert&#39;</span><span class="p">:</span><span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span>
        <span class="p">},</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> 
    <span class="k">return</span> <span class="n">df_bag_report</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bag_report</span> <span class="o">=</span> <span class="n">get_BAG_report_data</span><span class="p">()</span>
<span class="n">df_bag_report</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>new_conf</th>
      <th>ncumul_conf</th>
      <th>new_hosp</th>
      <th>ncumul_hosp</th>
      <th>new_deceased</th>
      <th>ncumul_deceased</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-02-24</td>
      <td>1</td>
      <td>1</td>
      <td>5</td>
      <td>5</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-02-25</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>9</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-02-26</td>
      <td>10</td>
      <td>12</td>
      <td>9</td>
      <td>18</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-02-27</td>
      <td>10</td>
      <td>22</td>
      <td>4</td>
      <td>22</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-02-28</td>
      <td>10</td>
      <td>32</td>
      <td>5</td>
      <td>27</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>184</th>
      <td>2020-08-26</td>
      <td>366</td>
      <td>41203</td>
      <td>4</td>
      <td>4368</td>
      <td>0.0</td>
      <td>1723.0</td>
    </tr>
    <tr>
      <th>185</th>
      <td>2020-08-27</td>
      <td>352</td>
      <td>41555</td>
      <td>3</td>
      <td>4371</td>
      <td>2.0</td>
      <td>1725.0</td>
    </tr>
    <tr>
      <th>186</th>
      <td>2020-08-28</td>
      <td>356</td>
      <td>41911</td>
      <td>1</td>
      <td>4372</td>
      <td>0.0</td>
      <td>1725.0</td>
    </tr>
    <tr>
      <th>187</th>
      <td>2020-08-29</td>
      <td>103</td>
      <td>42014</td>
      <td>0</td>
      <td>4372</td>
      <td>0.0</td>
      <td>1725.0</td>
    </tr>
    <tr>
      <th>188</th>
      <td>2020-08-30</td>
      <td>0</td>
      <td>42014</td>
      <td>1</td>
      <td>4373</td>
      <td>0.0</td>
      <td>1725.0</td>
    </tr>
  </tbody>
</table>
<p>189 rows × 7 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Merge-CH-and-BAG-data">Merge CH and BAG data<a class="anchor-link" href="#Merge-CH-and-BAG-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_data</span><span class="p">():</span>
    <span class="n">df_ch</span> <span class="o">=</span> <span class="n">get_CH_data_total</span><span class="p">()</span>
    <span class="n">df_bag</span> <span class="o">=</span> <span class="n">get_BAG_data</span><span class="p">()</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">df_bag</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>ncumul_tested</th>
      <th>ncumul_conf</th>
      <th>new_hosp</th>
      <th>current_hosp</th>
      <th>current_icu</th>
      <th>current_vent</th>
      <th>ncumul_released</th>
      <th>ncumul_deceased</th>
      <th>current_isolated</th>
      <th>...</th>
      <th>TotalPosTests1</th>
      <th>ninst_ICU_intub</th>
      <th>time</th>
      <th>total_number_of_tests</th>
      <th>positivity_rate_percent</th>
      <th>isolated</th>
      <th>quarantined</th>
      <th>quarantined_travel</th>
      <th>source_file</th>
      <th>new_tested</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>199</th>
      <td>2020-08-09</td>
      <td>61887.0</td>
      <td>36643.0</td>
      <td>3.0</td>
      <td>120.0</td>
      <td>20.0</td>
      <td>10.0</td>
      <td>6420.0</td>
      <td>1989.0</td>
      <td>950.0</td>
      <td>...</td>
      <td>68.0</td>
      <td>62.0</td>
      <td>08:00:00</td>
      <td>840409.0</td>
      <td>5.2</td>
      <td>1301.0</td>
      <td>4071.0</td>
      <td>13856.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>4685.0</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2020-08-10</td>
      <td>61887.0</td>
      <td>36839.0</td>
      <td>3.0</td>
      <td>122.0</td>
      <td>20.0</td>
      <td>9.0</td>
      <td>6435.0</td>
      <td>1990.0</td>
      <td>879.0</td>
      <td>...</td>
      <td>68.0</td>
      <td>62.0</td>
      <td>08:00:00</td>
      <td>842509.0</td>
      <td>5.2</td>
      <td>1301.0</td>
      <td>4071.0</td>
      <td>13856.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>2100.0</td>
    </tr>
    <tr>
      <th>201</th>
      <td>2020-08-11</td>
      <td>61887.0</td>
      <td>37101.0</td>
      <td>4.0</td>
      <td>115.0</td>
      <td>22.0</td>
      <td>9.0</td>
      <td>6457.0</td>
      <td>1991.0</td>
      <td>978.0</td>
      <td>...</td>
      <td>68.0</td>
      <td>62.0</td>
      <td>08:00:00</td>
      <td>847325.0</td>
      <td>5.2</td>
      <td>1331.0</td>
      <td>4212.0</td>
      <td>13994.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>4816.0</td>
    </tr>
    <tr>
      <th>202</th>
      <td>2020-08-12</td>
      <td>61887.0</td>
      <td>37310.0</td>
      <td>4.0</td>
      <td>116.0</td>
      <td>25.0</td>
      <td>14.0</td>
      <td>6475.0</td>
      <td>1991.0</td>
      <td>1022.0</td>
      <td>...</td>
      <td>68.0</td>
      <td>62.0</td>
      <td>08:00:00</td>
      <td>854885.0</td>
      <td>5.2</td>
      <td>1331.0</td>
      <td>4446.0</td>
      <td>18244.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>7560.0</td>
    </tr>
    <tr>
      <th>203</th>
      <td>2020-08-13</td>
      <td>61887.0</td>
      <td>28530.0</td>
      <td>3.0</td>
      <td>100.0</td>
      <td>21.0</td>
      <td>13.0</td>
      <td>5318.0</td>
      <td>1429.0</td>
      <td>948.0</td>
      <td>...</td>
      <td>68.0</td>
      <td>62.0</td>
      <td>08:00:00</td>
      <td>861555.0</td>
      <td>5.2</td>
      <td>1357.0</td>
      <td>4550.0</td>
      <td>18086.0</td>
      <td>COVID-19_Epidemiologische_Lage_Schweiz.pdf</td>
      <td>6670.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 37 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">new_tested</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-08-09&#39;</span><span class="p">],</span> <span class="n">df</span><span class="o">.</span><span class="n">new_conf</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-08-09&#39;</span><span class="p">],</span> <span class="mi">100</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">new_tested</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-08-09&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">new_conf</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-08-09&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(199    4685.0
 Name: new_tested, dtype: float64,
 199    84.0
 Name: new_conf, dtype: float64,
 199    1.792956
 dtype: float64)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Download-an-prepare-BAG-data-for-testing">Download an prepare BAG data for testing<a class="anchor-link" href="#Download-an-prepare-BAG-data-for-testing"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">URLs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;BAG_test_data&#39;</span><span class="p">:</span> <span class="s1">&#39;https://www.bag.admin.ch/dam/bag/de/dokumente/mt/k-und-i/aktuelle-ausbrueche-pandemien/2019-nCoV/covid-19-basisdaten-labortests.xlsx.download.xlsx/Dashboard_3_COVID19_labtests_positivity.xlsx&#39;</span>
<span class="p">}</span>   

<span class="k">def</span> <span class="nf">download_BAG_test_data</span><span class="p">():</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URLs</span><span class="p">[</span><span class="s1">&#39;BAG_test_data&#39;</span><span class="p">],</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">URLs</span><span class="p">[</span><span class="s1">&#39;BAG_test_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_BAG_test_data</span><span class="p">():</span>
    <span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;Dashboard_3_COVID19_labtests_positivity.xlsx&#39;</span><span class="p">)</span>
    <span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">df_bag_test</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Replikation_dt&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df_bag_test_pos</span> <span class="o">=</span> <span class="n">df_bag_test</span><span class="p">[</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;Outcome_tests&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Positive&#39;</span><span class="p">]</span>
    <span class="n">df_bag_test_pos</span> <span class="o">=</span> <span class="n">df_bag_test_pos</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Outcome_tests&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df_bag_test_neg</span> <span class="o">=</span> <span class="n">df_bag_test</span><span class="p">[</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;Outcome_tests&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Negative&#39;</span><span class="p">]</span>
    <span class="n">df_bag_test_neg</span> <span class="o">=</span> <span class="n">df_bag_test_neg</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Outcome_tests&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">df_bag_test_pos</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">df_bag_test_neg</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Datum&#39;</span><span class="p">)</span>
    <span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">df_bag_test</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Datum&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;Number_of_tests_x&quot;</span><span class="p">:</span> <span class="s2">&quot;positive&quot;</span><span class="p">,</span> <span class="s2">&quot;Number_of_tests_y&quot;</span><span class="p">:</span> <span class="s2">&quot;negative&quot;</span><span class="p">})</span>
    <span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;pos_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;positive&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;positive&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;negative&#39;</span><span class="p">]),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;SMA_7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;pos_rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df_bag_test</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_BAG_test_data</span><span class="p">()</span>
<span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">get_BAG_test_data</span><span class="p">()</span>
<span class="n">df_bag_test</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>positive</th>
      <th>negative</th>
      <th>pos_rate</th>
      <th>SMA_7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>196</th>
      <td>2020-08-09</td>
      <td>129</td>
      <td>1904</td>
      <td>6.3</td>
      <td>4.1</td>
    </tr>
    <tr>
      <th>197</th>
      <td>2020-08-10</td>
      <td>258</td>
      <td>5799</td>
      <td>4.3</td>
      <td>4.3</td>
    </tr>
    <tr>
      <th>198</th>
      <td>2020-08-11</td>
      <td>299</td>
      <td>7011</td>
      <td>4.1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>199</th>
      <td>2020-08-12</td>
      <td>257</td>
      <td>6328</td>
      <td>3.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2020-08-13</td>
      <td>236</td>
      <td>5232</td>
      <td>4.3</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Make-sure-all-date-independent-of-source-are-of-the-same-length">Make sure all date independent of source are of the same length<a class="anchor-link" href="#Make-sure-all-date-independent-of-source-are-of-the-same-length"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">stretch_data_frames</span><span class="p">(</span><span class="n">dfs</span><span class="p">):</span>
    
    <span class="n">min_date</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">max_date</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">dfs</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">min_date</span><span class="p">):</span>
            <span class="n">min_date</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">max_date</span><span class="p">):</span>
            <span class="n">max_date</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    
    <span class="c1"># add rows for missing (unreported) days</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">min_date</span><span class="p">,</span> <span class="n">max_date</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dfs</span><span class="p">)):</span>
        <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
        <span class="n">dfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">dfs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="p">,</span> <span class="n">df_bag_test</span> <span class="o">=</span> <span class="n">stretch_data_frames</span><span class="p">([</span><span class="n">df_ch</span><span class="p">,</span> <span class="n">df_bag_test</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">df_bag_test</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(Timestamp(&#39;2020-08-14 00:00:00&#39;), Timestamp(&#39;2020-08-14 00:00:00&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bag_test</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>positive</th>
      <th>negative</th>
      <th>pos_rate</th>
      <th>SMA_7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>199</th>
      <td>2020-08-10</td>
      <td>258.0</td>
      <td>5799.0</td>
      <td>4.3</td>
      <td>4.3</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2020-08-11</td>
      <td>299.0</td>
      <td>7011.0</td>
      <td>4.1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>201</th>
      <td>2020-08-12</td>
      <td>257.0</td>
      <td>6328.0</td>
      <td>3.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>202</th>
      <td>2020-08-13</td>
      <td>236.0</td>
      <td>5232.0</td>
      <td>4.3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>203</th>
      <td>2020-08-14</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;new_tests&#39;</span><span class="p">]))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2645</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2646</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;Datum&#39;

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-492-4af96110f2e5&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> fig <span class="ansi-blue-fg">=</span> go<span class="ansi-blue-fg">.</span>Figure<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>fig<span class="ansi-blue-fg">.</span>add_trace<span class="ansi-blue-fg">(</span>go<span class="ansi-blue-fg">.</span>Bar<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">=</span>df_bag_test<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;Datum&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> y<span class="ansi-blue-fg">=</span>df_bag_test<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;new_tests&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> 
<span class="ansi-green-intense-fg ansi-bold">      4</span> fig<span class="ansi-blue-fg">.</span>show<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/frame.py</span> in <span class="ansi-cyan-fg">__getitem__</span><span class="ansi-blue-fg">(self, key)</span>
<span class="ansi-green-intense-fg ansi-bold">   2798</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>nlevels <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2799</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_getitem_multilevel<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 2800</span><span class="ansi-red-fg">             </span>indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2801</span>             <span class="ansi-green-fg">if</span> is_integer<span class="ansi-blue-fg">(</span>indexer<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2802</span>                 indexer <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>indexer<span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2646</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2648</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>_maybe_cast_indexer<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2649</span>         indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>get_indexer<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> method<span class="ansi-blue-fg">=</span>method<span class="ansi-blue-fg">,</span> tolerance<span class="ansi-blue-fg">=</span>tolerance<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2650</span>         <span class="ansi-green-fg">if</span> indexer<span class="ansi-blue-fg">.</span>ndim <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span> <span class="ansi-green-fg">or</span> indexer<span class="ansi-blue-fg">.</span>size <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;Datum&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span>
    <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_bag_test</span><span class="o">.</span><span class="n">Datum</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df_bag_test</span><span class="o">.</span><span class="n">positive</span><span class="p">),</span>
    <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;negative&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_bag_test</span><span class="o">.</span><span class="n">Datum</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df_bag_test</span><span class="o">.</span><span class="n">negative</span><span class="p">)</span>
<span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">barmode</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="37f01f4f-efa8-412a-9186-da0e6572b5a6" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("37f01f4f-efa8-412a-9186-da0e6572b5a6")) {
                    Plotly.newPlot(
                        '37f01f4f-efa8-412a-9186-da0e6572b5a6',
                        [{"name": "positive", "type": "bar", "x": ["2020-01-24T00:00:00", "2020-01-25T00:00:00", "2020-01-27T00:00:00", "2020-01-28T00:00:00", "2020-01-29T00:00:00", "2020-01-30T00:00:00", "2020-01-31T00:00:00", "2020-02-01T00:00:00", "2020-02-02T00:00:00", "2020-02-03T00:00:00", "2020-02-04T00:00:00", "2020-02-05T00:00:00", "2020-02-06T00:00:00", "2020-02-07T00:00:00", "2020-02-08T00:00:00", "2020-02-09T00:00:00", "2020-02-10T00:00:00", "2020-02-11T00:00:00", "2020-02-12T00:00:00", "2020-02-13T00:00:00", "2020-02-14T00:00:00", "2020-02-15T00:00:00", "2020-02-16T00:00:00", "2020-02-18T00:00:00", "2020-02-19T00:00:00", "2020-02-20T00:00:00", "2020-02-21T00:00:00", "2020-02-22T00:00:00", "2020-02-23T00:00:00", "2020-02-24T00:00:00", "2020-02-25T00:00:00", "2020-02-26T00:00:00", "2020-02-27T00:00:00", "2020-02-28T00:00:00", "2020-02-29T00:00:00", "2020-03-01T00:00:00", "2020-03-02T00:00:00", "2020-03-03T00:00:00", "2020-03-04T00:00:00", "2020-03-05T00:00:00", "2020-03-06T00:00:00", "2020-03-07T00:00:00", "2020-03-08T00:00:00", "2020-03-09T00:00:00", "2020-03-10T00:00:00", "2020-03-11T00:00:00", "2020-03-12T00:00:00", "2020-03-13T00:00:00", "2020-03-14T00:00:00", "2020-03-15T00:00:00", "2020-03-16T00:00:00", "2020-03-17T00:00:00", "2020-03-18T00:00:00", "2020-03-19T00:00:00", "2020-03-20T00:00:00", "2020-03-21T00:00:00", "2020-03-22T00:00:00", "2020-03-23T00:00:00", "2020-03-24T00:00:00", "2020-03-25T00:00:00", "2020-03-26T00:00:00", "2020-03-27T00:00:00", "2020-03-28T00:00:00", "2020-03-29T00:00:00", "2020-03-30T00:00:00", "2020-03-31T00:00:00", "2020-04-01T00:00:00", "2020-04-02T00:00:00", "2020-04-03T00:00:00", "2020-04-04T00:00:00", "2020-04-05T00:00:00", "2020-04-06T00:00:00", "2020-04-07T00:00:00", "2020-04-08T00:00:00", "2020-04-09T00:00:00", "2020-04-10T00:00:00", "2020-04-11T00:00:00", "2020-04-12T00:00:00", "2020-04-13T00:00:00", "2020-04-14T00:00:00", "2020-04-15T00:00:00", "2020-04-16T00:00:00", "2020-04-17T00:00:00", "2020-04-18T00:00:00", "2020-04-19T00:00:00", "2020-04-20T00:00:00", "2020-04-21T00:00:00", "2020-04-22T00:00:00", "2020-04-23T00:00:00", "2020-04-24T00:00:00", "2020-04-25T00:00:00", "2020-04-26T00:00:00", "2020-04-27T00:00:00", "2020-04-28T00:00:00", "2020-04-29T00:00:00", "2020-04-30T00:00:00", "2020-05-01T00:00:00", "2020-05-02T00:00:00", "2020-05-03T00:00:00", "2020-05-04T00:00:00", "2020-05-05T00:00:00", "2020-05-06T00:00:00", "2020-05-07T00:00:00", "2020-05-08T00:00:00", "2020-05-09T00:00:00", "2020-05-10T00:00:00", "2020-05-11T00:00:00", "2020-05-12T00:00:00", "2020-05-13T00:00:00", "2020-05-14T00:00:00", "2020-05-15T00:00:00", "2020-05-16T00:00:00", "2020-05-17T00:00:00", "2020-05-18T00:00:00", "2020-05-19T00:00:00", "2020-05-20T00:00:00", "2020-05-21T00:00:00", "2020-05-22T00:00:00", "2020-05-23T00:00:00", "2020-05-24T00:00:00", "2020-05-25T00:00:00", "2020-05-26T00:00:00", "2020-05-27T00:00:00", "2020-05-28T00:00:00", "2020-05-29T00:00:00", "2020-05-30T00:00:00", "2020-05-31T00:00:00", "2020-06-01T00:00:00", "2020-06-02T00:00:00", "2020-06-03T00:00:00", "2020-06-04T00:00:00", "2020-06-05T00:00:00", "2020-06-06T00:00:00", "2020-06-07T00:00:00", "2020-06-08T00:00:00", "2020-06-09T00:00:00", "2020-06-10T00:00:00", "2020-06-11T00:00:00", "2020-06-12T00:00:00", "2020-06-13T00:00:00", "2020-06-14T00:00:00", "2020-06-15T00:00:00", "2020-06-16T00:00:00", "2020-06-17T00:00:00", "2020-06-18T00:00:00", "2020-06-19T00:00:00", "2020-06-20T00:00:00", "2020-06-21T00:00:00", "2020-06-22T00:00:00", "2020-06-23T00:00:00", "2020-06-24T00:00:00", "2020-06-25T00:00:00", "2020-06-26T00:00:00", "2020-06-27T00:00:00", "2020-06-28T00:00:00", "2020-06-29T00:00:00", "2020-06-30T00:00:00", "2020-07-01T00:00:00", "2020-07-02T00:00:00", "2020-07-03T00:00:00", "2020-07-04T00:00:00", "2020-07-05T00:00:00", "2020-07-06T00:00:00", "2020-07-07T00:00:00", "2020-07-08T00:00:00", "2020-07-09T00:00:00", "2020-07-10T00:00:00", "2020-07-11T00:00:00", "2020-07-12T00:00:00", "2020-07-13T00:00:00", "2020-07-14T00:00:00", "2020-07-15T00:00:00", "2020-07-16T00:00:00", "2020-07-17T00:00:00", "2020-07-18T00:00:00", "2020-07-19T00:00:00", "2020-07-20T00:00:00", "2020-07-21T00:00:00", "2020-07-22T00:00:00", "2020-07-23T00:00:00", "2020-07-24T00:00:00", "2020-07-25T00:00:00", "2020-07-26T00:00:00", "2020-07-27T00:00:00", "2020-07-28T00:00:00", "2020-07-29T00:00:00", "2020-07-30T00:00:00", "2020-07-31T00:00:00", "2020-08-01T00:00:00", "2020-08-02T00:00:00", "2020-08-03T00:00:00", "2020-08-04T00:00:00", "2020-08-05T00:00:00", "2020-08-06T00:00:00", "2020-08-07T00:00:00", "2020-08-08T00:00:00", "2020-08-09T00:00:00", "2020-08-10T00:00:00", "2020-08-11T00:00:00", "2020-08-12T00:00:00", "2020-08-13T00:00:00"], "y": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 8, 11, 10, 14, 18, 21, 66, 84, 132, 97, 67, 88, 147, 215, 372, 324, 426, 479, 363, 489, 1062, 1315, 1410, 1312, 1169, 803, 1259, 1530, 1212, 1314, 1341, 1009, 583, 1098, 1421, 1171, 1125, 1042, 705, 389, 759, 989, 798, 722, 432, 383, 280, 300, 461, 468, 473, 389, 268, 103, 295, 335, 295, 308, 243, 146, 93, 204, 233, 188, 214, 157, 80, 49, 127, 120, 146, 86, 104, 73, 38, 72, 73, 63, 65, 72, 42, 21, 66, 75, 60, 23, 36, 15, 13, 24, 44, 32, 37, 40, 17, 14, 5, 34, 35, 30, 26, 15, 10, 28, 55, 23, 36, 43, 27, 13, 26, 34, 33, 21, 38, 39, 14, 34, 64, 57, 64, 89, 53, 32, 115, 180, 126, 128, 109, 61, 38, 106, 137, 116, 123, 126, 108, 53, 114, 175, 163, 123, 136, 88, 63, 123, 149, 137, 179, 180, 117, 55, 196, 197, 276, 245, 213, 118, 73, 193, 215, 204, 196, 211, 144, 129, 258, 299, 257, 236]}, {"name": "negative", "type": "bar", "x": ["2020-01-24T00:00:00", "2020-01-25T00:00:00", "2020-01-27T00:00:00", "2020-01-28T00:00:00", "2020-01-29T00:00:00", "2020-01-30T00:00:00", "2020-01-31T00:00:00", "2020-02-01T00:00:00", "2020-02-02T00:00:00", "2020-02-03T00:00:00", "2020-02-04T00:00:00", "2020-02-05T00:00:00", "2020-02-06T00:00:00", "2020-02-07T00:00:00", "2020-02-08T00:00:00", "2020-02-09T00:00:00", "2020-02-10T00:00:00", "2020-02-11T00:00:00", "2020-02-12T00:00:00", "2020-02-13T00:00:00", "2020-02-14T00:00:00", "2020-02-15T00:00:00", "2020-02-16T00:00:00", "2020-02-18T00:00:00", "2020-02-19T00:00:00", "2020-02-20T00:00:00", "2020-02-21T00:00:00", "2020-02-22T00:00:00", "2020-02-23T00:00:00", "2020-02-24T00:00:00", "2020-02-25T00:00:00", "2020-02-26T00:00:00", "2020-02-27T00:00:00", "2020-02-28T00:00:00", "2020-02-29T00:00:00", "2020-03-01T00:00:00", "2020-03-02T00:00:00", "2020-03-03T00:00:00", "2020-03-04T00:00:00", "2020-03-05T00:00:00", "2020-03-06T00:00:00", "2020-03-07T00:00:00", "2020-03-08T00:00:00", "2020-03-09T00:00:00", "2020-03-10T00:00:00", "2020-03-11T00:00:00", "2020-03-12T00:00:00", "2020-03-13T00:00:00", "2020-03-14T00:00:00", "2020-03-15T00:00:00", "2020-03-16T00:00:00", "2020-03-17T00:00:00", "2020-03-18T00:00:00", "2020-03-19T00:00:00", "2020-03-20T00:00:00", "2020-03-21T00:00:00", "2020-03-22T00:00:00", "2020-03-23T00:00:00", "2020-03-24T00:00:00", "2020-03-25T00:00:00", "2020-03-26T00:00:00", "2020-03-27T00:00:00", "2020-03-28T00:00:00", "2020-03-29T00:00:00", "2020-03-30T00:00:00", "2020-03-31T00:00:00", "2020-04-01T00:00:00", "2020-04-02T00:00:00", "2020-04-03T00:00:00", "2020-04-04T00:00:00", "2020-04-05T00:00:00", "2020-04-06T00:00:00", "2020-04-07T00:00:00", "2020-04-08T00:00:00", "2020-04-09T00:00:00", "2020-04-10T00:00:00", "2020-04-11T00:00:00", "2020-04-12T00:00:00", "2020-04-13T00:00:00", "2020-04-14T00:00:00", "2020-04-15T00:00:00", "2020-04-16T00:00:00", "2020-04-17T00:00:00", "2020-04-18T00:00:00", "2020-04-19T00:00:00", "2020-04-20T00:00:00", "2020-04-21T00:00:00", "2020-04-22T00:00:00", "2020-04-23T00:00:00", "2020-04-24T00:00:00", "2020-04-25T00:00:00", "2020-04-26T00:00:00", "2020-04-27T00:00:00", "2020-04-28T00:00:00", "2020-04-29T00:00:00", "2020-04-30T00:00:00", "2020-05-01T00:00:00", "2020-05-02T00:00:00", "2020-05-03T00:00:00", "2020-05-04T00:00:00", "2020-05-05T00:00:00", "2020-05-06T00:00:00", "2020-05-07T00:00:00", "2020-05-08T00:00:00", "2020-05-09T00:00:00", "2020-05-10T00:00:00", "2020-05-11T00:00:00", "2020-05-12T00:00:00", "2020-05-13T00:00:00", "2020-05-14T00:00:00", "2020-05-15T00:00:00", "2020-05-16T00:00:00", "2020-05-17T00:00:00", "2020-05-18T00:00:00", "2020-05-19T00:00:00", "2020-05-20T00:00:00", "2020-05-21T00:00:00", "2020-05-22T00:00:00", "2020-05-23T00:00:00", "2020-05-24T00:00:00", "2020-05-25T00:00:00", "2020-05-26T00:00:00", "2020-05-27T00:00:00", "2020-05-28T00:00:00", "2020-05-29T00:00:00", "2020-05-30T00:00:00", "2020-05-31T00:00:00", "2020-06-01T00:00:00", "2020-06-02T00:00:00", "2020-06-03T00:00:00", "2020-06-04T00:00:00", "2020-06-05T00:00:00", "2020-06-06T00:00:00", "2020-06-07T00:00:00", "2020-06-08T00:00:00", "2020-06-09T00:00:00", "2020-06-10T00:00:00", "2020-06-11T00:00:00", "2020-06-12T00:00:00", "2020-06-13T00:00:00", "2020-06-14T00:00:00", "2020-06-15T00:00:00", "2020-06-16T00:00:00", "2020-06-17T00:00:00", "2020-06-18T00:00:00", "2020-06-19T00:00:00", "2020-06-20T00:00:00", "2020-06-21T00:00:00", "2020-06-22T00:00:00", "2020-06-23T00:00:00", "2020-06-24T00:00:00", "2020-06-25T00:00:00", "2020-06-26T00:00:00", "2020-06-27T00:00:00", "2020-06-28T00:00:00", "2020-06-29T00:00:00", "2020-06-30T00:00:00", "2020-07-01T00:00:00", "2020-07-02T00:00:00", "2020-07-03T00:00:00", "2020-07-04T00:00:00", "2020-07-05T00:00:00", "2020-07-06T00:00:00", "2020-07-07T00:00:00", "2020-07-08T00:00:00", "2020-07-09T00:00:00", "2020-07-10T00:00:00", "2020-07-11T00:00:00", "2020-07-12T00:00:00", "2020-07-13T00:00:00", "2020-07-14T00:00:00", "2020-07-15T00:00:00", "2020-07-16T00:00:00", "2020-07-17T00:00:00", "2020-07-18T00:00:00", "2020-07-19T00:00:00", "2020-07-20T00:00:00", "2020-07-21T00:00:00", "2020-07-22T00:00:00", "2020-07-23T00:00:00", "2020-07-24T00:00:00", "2020-07-25T00:00:00", "2020-07-26T00:00:00", "2020-07-27T00:00:00", "2020-07-28T00:00:00", "2020-07-29T00:00:00", "2020-07-30T00:00:00", "2020-07-31T00:00:00", "2020-08-01T00:00:00", "2020-08-02T00:00:00", "2020-08-03T00:00:00", "2020-08-04T00:00:00", "2020-08-05T00:00:00", "2020-08-06T00:00:00", "2020-08-07T00:00:00", "2020-08-08T00:00:00", "2020-08-09T00:00:00", "2020-08-10T00:00:00", "2020-08-11T00:00:00", "2020-08-12T00:00:00", "2020-08-13T00:00:00"], "y": [3, 4, 13, 16, 29, 40, 32, 19, 11, 14, 26, 28, 13, 15, 7, 9, 13, 22, 20, 7, 9, 5, 5, 9, 14, 10, 14, 2, 5, 47, 170, 309, 268, 440, 244, 355, 457, 650, 508, 455, 860, 660, 656, 1484, 1957, 2352, 4310, 4263, 4765, 2160, 4790, 8291, 9276, 8271, 6841, 5260, 2485, 5381, 4283, 6479, 6547, 5856, 4756, 2184, 3391, 5739, 5531, 5896, 5475, 4499, 2916, 3353, 5881, 5763, 5293, 3549, 2415, 2020, 1897, 3462, 5122, 4664, 4209, 3381, 2016, 3132, 4638, 4360, 4254, 4550, 3887, 2270, 3545, 5361, 5622, 4635, 4294, 3040, 2470, 3735, 5770, 5230, 4578, 4252, 3063, 1393, 5003, 5494, 6168, 5641, 5526, 3228, 1723, 4349, 5925, 4804, 2094, 3529, 2513, 1647, 3980, 5651, 4970, 4156, 3672, 2569, 1558, 1778, 4249, 5230, 5188, 4794, 3106, 1532, 4685, 6438, 6577, 5574, 6413, 4332, 1781, 6480, 10011, 9584, 8411, 7547, 4654, 1765, 8171, 11601, 9084, 9189, 10099, 6393, 2503, 13974, 14852, 11116, 10763, 10269, 6151, 2482, 7720, 9861, 8753, 8410, 7572, 4637, 1893, 6732, 8636, 7588, 7162, 6586, 3681, 1713, 5563, 6679, 6586, 5333, 5362, 3514, 1733, 5335, 7144, 6577, 6844, 5498, 2936, 2057, 6038, 7043, 6587, 6425, 5949, 3523, 1904, 5799, 7011, 6328, 5232]}],
                        {"barmode": "stack", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('37f01f4f-efa8-412a-9186-da0e6572b5a6');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]))</span> <span class="c1"># fill down to xaxis</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;tonexty&#39;</span><span class="p">))</span> <span class="c1"># fill to trace0 y</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">hovermode</span><span class="o">=</span><span class="s2">&quot;x unified&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="ee678f2f-bac7-4449-bbe4-b0805fa14d68" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("ee678f2f-bac7-4449-bbe4-b0805fa14d68")) {
                    Plotly.newPlot(
                        'ee678f2f-bac7-4449-bbe4-b0805fa14d68',
                        [{"type": "bar", "x": [1, 2, 3, 4], "y": [0, 2, 3, 5]}, {"fill": "tonexty", "type": "scatter", "x": [1, 2, 3, 4], "y": [3, 5, 1, 7]}],
                        {"hovermode": "x unified", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('ee678f2f-bac7-4449-bbe4-b0805fa14d68');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bag_test</span><span class="p">[</span><span class="s1">&#39;new_tests&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0           3
1           7
2          20
3          36
4          65
        ...  
196    843466
197    849523
198    856833
199    863418
200    868886
Name: new_tests, Length: 201, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>

<span class="n">pio</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">figure</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="0d7fd455-1f9b-494e-aeca-06c96af78c7a" class="plotly-graph-div" style="height:400px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("0d7fd455-1f9b-494e-aeca-06c96af78c7a")) {
                    Plotly.newPlot(
                        '0d7fd455-1f9b-494e-aeca-06c96af78c7a',
                        [{"marker": {"opacity": 0.5}, "showlegend": false, "type": "bar", "x": ["2020-01-24T00:00:00", "2020-01-25T00:00:00", "2020-01-27T00:00:00", "2020-01-28T00:00:00", "2020-01-29T00:00:00", "2020-01-30T00:00:00", "2020-01-31T00:00:00", "2020-02-01T00:00:00", "2020-02-02T00:00:00", "2020-02-03T00:00:00", "2020-02-04T00:00:00", "2020-02-05T00:00:00", "2020-02-06T00:00:00", "2020-02-07T00:00:00", "2020-02-08T00:00:00", "2020-02-09T00:00:00", "2020-02-10T00:00:00", "2020-02-11T00:00:00", "2020-02-12T00:00:00", "2020-02-13T00:00:00", "2020-02-14T00:00:00", "2020-02-15T00:00:00", "2020-02-16T00:00:00", "2020-02-18T00:00:00", "2020-02-19T00:00:00", "2020-02-20T00:00:00", "2020-02-21T00:00:00", "2020-02-22T00:00:00", "2020-02-23T00:00:00", "2020-02-24T00:00:00", "2020-02-25T00:00:00", "2020-02-26T00:00:00", "2020-02-27T00:00:00", "2020-02-28T00:00:00", "2020-02-29T00:00:00", "2020-03-01T00:00:00", "2020-03-02T00:00:00", "2020-03-03T00:00:00", "2020-03-04T00:00:00", "2020-03-05T00:00:00", "2020-03-06T00:00:00", "2020-03-07T00:00:00", "2020-03-08T00:00:00", "2020-03-09T00:00:00", "2020-03-10T00:00:00", "2020-03-11T00:00:00", "2020-03-12T00:00:00", "2020-03-13T00:00:00", "2020-03-14T00:00:00", "2020-03-15T00:00:00", "2020-03-16T00:00:00", "2020-03-17T00:00:00", "2020-03-18T00:00:00", "2020-03-19T00:00:00", "2020-03-20T00:00:00", "2020-03-21T00:00:00", "2020-03-22T00:00:00", "2020-03-23T00:00:00", "2020-03-24T00:00:00", "2020-03-25T00:00:00", "2020-03-26T00:00:00", "2020-03-27T00:00:00", "2020-03-28T00:00:00", "2020-03-29T00:00:00", "2020-03-30T00:00:00", "2020-03-31T00:00:00", "2020-04-01T00:00:00", "2020-04-02T00:00:00", "2020-04-03T00:00:00", "2020-04-04T00:00:00", "2020-04-05T00:00:00", "2020-04-06T00:00:00", "2020-04-07T00:00:00", "2020-04-08T00:00:00", "2020-04-09T00:00:00", "2020-04-10T00:00:00", "2020-04-11T00:00:00", "2020-04-12T00:00:00", "2020-04-13T00:00:00", "2020-04-14T00:00:00", "2020-04-15T00:00:00", "2020-04-16T00:00:00", "2020-04-17T00:00:00", "2020-04-18T00:00:00", "2020-04-19T00:00:00", "2020-04-20T00:00:00", "2020-04-21T00:00:00", "2020-04-22T00:00:00", "2020-04-23T00:00:00", "2020-04-24T00:00:00", "2020-04-25T00:00:00", "2020-04-26T00:00:00", "2020-04-27T00:00:00", "2020-04-28T00:00:00", "2020-04-29T00:00:00", "2020-04-30T00:00:00", "2020-05-01T00:00:00", "2020-05-02T00:00:00", "2020-05-03T00:00:00", "2020-05-04T00:00:00", "2020-05-05T00:00:00", "2020-05-06T00:00:00", "2020-05-07T00:00:00", "2020-05-08T00:00:00", "2020-05-09T00:00:00", "2020-05-10T00:00:00", "2020-05-11T00:00:00", "2020-05-12T00:00:00", "2020-05-13T00:00:00", "2020-05-14T00:00:00", "2020-05-15T00:00:00", "2020-05-16T00:00:00", "2020-05-17T00:00:00", "2020-05-18T00:00:00", "2020-05-19T00:00:00", "2020-05-20T00:00:00", "2020-05-21T00:00:00", "2020-05-22T00:00:00", "2020-05-23T00:00:00", "2020-05-24T00:00:00", "2020-05-25T00:00:00", "2020-05-26T00:00:00", "2020-05-27T00:00:00", "2020-05-28T00:00:00", "2020-05-29T00:00:00", "2020-05-30T00:00:00", "2020-05-31T00:00:00", "2020-06-01T00:00:00", "2020-06-02T00:00:00", "2020-06-03T00:00:00", "2020-06-04T00:00:00", "2020-06-05T00:00:00", "2020-06-06T00:00:00", "2020-06-07T00:00:00", "2020-06-08T00:00:00", "2020-06-09T00:00:00", "2020-06-10T00:00:00", "2020-06-11T00:00:00", "2020-06-12T00:00:00", "2020-06-13T00:00:00", "2020-06-14T00:00:00", "2020-06-15T00:00:00", "2020-06-16T00:00:00", "2020-06-17T00:00:00", "2020-06-18T00:00:00", "2020-06-19T00:00:00", "2020-06-20T00:00:00", "2020-06-21T00:00:00", "2020-06-22T00:00:00", "2020-06-23T00:00:00", "2020-06-24T00:00:00", "2020-06-25T00:00:00", "2020-06-26T00:00:00", "2020-06-27T00:00:00", "2020-06-28T00:00:00", "2020-06-29T00:00:00", "2020-06-30T00:00:00", "2020-07-01T00:00:00", "2020-07-02T00:00:00", "2020-07-03T00:00:00", "2020-07-04T00:00:00", "2020-07-05T00:00:00", "2020-07-06T00:00:00", "2020-07-07T00:00:00", "2020-07-08T00:00:00", "2020-07-09T00:00:00", "2020-07-10T00:00:00", "2020-07-11T00:00:00", "2020-07-12T00:00:00", "2020-07-13T00:00:00", "2020-07-14T00:00:00", "2020-07-15T00:00:00", "2020-07-16T00:00:00", "2020-07-17T00:00:00", "2020-07-18T00:00:00", "2020-07-19T00:00:00", "2020-07-20T00:00:00", "2020-07-21T00:00:00", "2020-07-22T00:00:00", "2020-07-23T00:00:00", "2020-07-24T00:00:00", "2020-07-25T00:00:00", "2020-07-26T00:00:00", "2020-07-27T00:00:00", "2020-07-28T00:00:00", "2020-07-29T00:00:00", "2020-07-30T00:00:00", "2020-07-31T00:00:00", "2020-08-01T00:00:00", "2020-08-02T00:00:00", "2020-08-03T00:00:00", "2020-08-04T00:00:00", "2020-08-05T00:00:00", "2020-08-06T00:00:00", "2020-08-07T00:00:00", "2020-08-08T00:00:00", "2020-08-09T00:00:00", "2020-08-10T00:00:00", "2020-08-11T00:00:00", "2020-08-12T00:00:00", "2020-08-13T00:00:00"], "y": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.1, 0.0, 2.5, 3.9, 2.2, 5.4, 4.8, 4.4, 9.2, 14.2, 22.5, 10.1, 9.2, 11.8, 9.0, 9.9, 13.7, 7.0, 9.1, 9.1, 14.4, 9.3, 11.4, 12.4, 14.6, 16.1, 18.2, 24.4, 19.0, 26.3, 15.8, 16.7, 18.6, 17.5, 21.1, 24.5, 19.8, 17.5, 16.0, 16.0, 13.5, 11.8, 18.5, 14.4, 12.2, 12.0, 10.9, 13.7, 12.2, 13.7, 11.8, 8.4, 9.2, 8.5, 7.3, 4.9, 8.6, 6.7, 6.3, 6.8, 5.1, 3.6, 3.9, 5.4, 4.2, 3.2, 4.4, 3.5, 2.6, 1.9, 3.3, 2.0, 2.7, 1.8, 2.4, 2.3, 2.7, 1.4, 1.3, 1.0, 1.1, 1.3, 1.3, 1.2, 1.5, 1.2, 1.2, 1.1, 1.0, 0.6, 0.8, 0.6, 0.8, 0.6, 0.9, 1.1, 0.7, 0.9, 0.3, 0.8, 0.7, 0.6, 0.5, 0.5, 0.6, 0.6, 0.8, 0.3, 0.6, 0.7, 0.6, 0.7, 0.4, 0.3, 0.3, 0.2, 0.5, 0.8, 0.8, 0.4, 0.5, 0.6, 0.7, 0.9, 0.8, 1.3, 0.8, 1.2, 1.1, 1.2, 1.1, 1.0, 1.5, 1.4, 1.4, 1.3, 1.4, 1.6, 2.3, 2.7, 1.7, 2.0, 2.1, 1.7, 2.0, 2.3, 3.5, 2.2, 2.2, 2.0, 3.2, 3.2, 3.2, 3.1, 3.5, 2.7, 4.0, 3.5, 3.7, 3.9, 3.4, 3.1, 3.0, 3.0, 3.0, 3.4, 3.9, 6.3, 4.3, 4.1, 3.9, 4.3]}, {"fill": "tozeroy", "mode": "lines", "type": "scatter", "x": ["2020-01-24T00:00:00", "2020-01-25T00:00:00", "2020-01-27T00:00:00", "2020-01-28T00:00:00", "2020-01-29T00:00:00", "2020-01-30T00:00:00", "2020-01-31T00:00:00", "2020-02-01T00:00:00", "2020-02-02T00:00:00", "2020-02-03T00:00:00", "2020-02-04T00:00:00", "2020-02-05T00:00:00", "2020-02-06T00:00:00", "2020-02-07T00:00:00", "2020-02-08T00:00:00", "2020-02-09T00:00:00", "2020-02-10T00:00:00", "2020-02-11T00:00:00", "2020-02-12T00:00:00", "2020-02-13T00:00:00", "2020-02-14T00:00:00", "2020-02-15T00:00:00", "2020-02-16T00:00:00", "2020-02-18T00:00:00", "2020-02-19T00:00:00", "2020-02-20T00:00:00", "2020-02-21T00:00:00", "2020-02-22T00:00:00", "2020-02-23T00:00:00", "2020-02-24T00:00:00", "2020-02-25T00:00:00", "2020-02-26T00:00:00", "2020-02-27T00:00:00", "2020-02-28T00:00:00", "2020-02-29T00:00:00", "2020-03-01T00:00:00", "2020-03-02T00:00:00", "2020-03-03T00:00:00", "2020-03-04T00:00:00", "2020-03-05T00:00:00", "2020-03-06T00:00:00", "2020-03-07T00:00:00", "2020-03-08T00:00:00", "2020-03-09T00:00:00", "2020-03-10T00:00:00", "2020-03-11T00:00:00", "2020-03-12T00:00:00", "2020-03-13T00:00:00", "2020-03-14T00:00:00", "2020-03-15T00:00:00", "2020-03-16T00:00:00", "2020-03-17T00:00:00", "2020-03-18T00:00:00", "2020-03-19T00:00:00", "2020-03-20T00:00:00", "2020-03-21T00:00:00", "2020-03-22T00:00:00", "2020-03-23T00:00:00", "2020-03-24T00:00:00", "2020-03-25T00:00:00", "2020-03-26T00:00:00", "2020-03-27T00:00:00", "2020-03-28T00:00:00", "2020-03-29T00:00:00", "2020-03-30T00:00:00", "2020-03-31T00:00:00", "2020-04-01T00:00:00", "2020-04-02T00:00:00", "2020-04-03T00:00:00", "2020-04-04T00:00:00", "2020-04-05T00:00:00", "2020-04-06T00:00:00", "2020-04-07T00:00:00", "2020-04-08T00:00:00", "2020-04-09T00:00:00", "2020-04-10T00:00:00", "2020-04-11T00:00:00", "2020-04-12T00:00:00", "2020-04-13T00:00:00", "2020-04-14T00:00:00", "2020-04-15T00:00:00", "2020-04-16T00:00:00", "2020-04-17T00:00:00", "2020-04-18T00:00:00", "2020-04-19T00:00:00", "2020-04-20T00:00:00", "2020-04-21T00:00:00", "2020-04-22T00:00:00", "2020-04-23T00:00:00", "2020-04-24T00:00:00", "2020-04-25T00:00:00", "2020-04-26T00:00:00", "2020-04-27T00:00:00", "2020-04-28T00:00:00", "2020-04-29T00:00:00", "2020-04-30T00:00:00", "2020-05-01T00:00:00", "2020-05-02T00:00:00", "2020-05-03T00:00:00", "2020-05-04T00:00:00", "2020-05-05T00:00:00", "2020-05-06T00:00:00", "2020-05-07T00:00:00", "2020-05-08T00:00:00", "2020-05-09T00:00:00", "2020-05-10T00:00:00", "2020-05-11T00:00:00", "2020-05-12T00:00:00", "2020-05-13T00:00:00", "2020-05-14T00:00:00", "2020-05-15T00:00:00", "2020-05-16T00:00:00", "2020-05-17T00:00:00", "2020-05-18T00:00:00", "2020-05-19T00:00:00", "2020-05-20T00:00:00", "2020-05-21T00:00:00", "2020-05-22T00:00:00", "2020-05-23T00:00:00", "2020-05-24T00:00:00", "2020-05-25T00:00:00", "2020-05-26T00:00:00", "2020-05-27T00:00:00", "2020-05-28T00:00:00", "2020-05-29T00:00:00", "2020-05-30T00:00:00", "2020-05-31T00:00:00", "2020-06-01T00:00:00", "2020-06-02T00:00:00", "2020-06-03T00:00:00", "2020-06-04T00:00:00", "2020-06-05T00:00:00", "2020-06-06T00:00:00", "2020-06-07T00:00:00", "2020-06-08T00:00:00", "2020-06-09T00:00:00", "2020-06-10T00:00:00", "2020-06-11T00:00:00", "2020-06-12T00:00:00", "2020-06-13T00:00:00", "2020-06-14T00:00:00", "2020-06-15T00:00:00", "2020-06-16T00:00:00", "2020-06-17T00:00:00", "2020-06-18T00:00:00", "2020-06-19T00:00:00", "2020-06-20T00:00:00", "2020-06-21T00:00:00", "2020-06-22T00:00:00", "2020-06-23T00:00:00", "2020-06-24T00:00:00", "2020-06-25T00:00:00", "2020-06-26T00:00:00", "2020-06-27T00:00:00", "2020-06-28T00:00:00", "2020-06-29T00:00:00", "2020-06-30T00:00:00", "2020-07-01T00:00:00", "2020-07-02T00:00:00", "2020-07-03T00:00:00", "2020-07-04T00:00:00", "2020-07-05T00:00:00", "2020-07-06T00:00:00", "2020-07-07T00:00:00", "2020-07-08T00:00:00", "2020-07-09T00:00:00", "2020-07-10T00:00:00", "2020-07-11T00:00:00", "2020-07-12T00:00:00", "2020-07-13T00:00:00", "2020-07-14T00:00:00", "2020-07-15T00:00:00", "2020-07-16T00:00:00", "2020-07-17T00:00:00", "2020-07-18T00:00:00", "2020-07-19T00:00:00", "2020-07-20T00:00:00", "2020-07-21T00:00:00", "2020-07-22T00:00:00", "2020-07-23T00:00:00", "2020-07-24T00:00:00", "2020-07-25T00:00:00", "2020-07-26T00:00:00", "2020-07-27T00:00:00", "2020-07-28T00:00:00", "2020-07-29T00:00:00", "2020-07-30T00:00:00", "2020-07-31T00:00:00", "2020-08-01T00:00:00", "2020-08-02T00:00:00", "2020-08-03T00:00:00", "2020-08-04T00:00:00", "2020-08-05T00:00:00", "2020-08-06T00:00:00", "2020-08-07T00:00:00", "2020-08-08T00:00:00", "2020-08-09T00:00:00", "2020-08-10T00:00:00", "2020-08-11T00:00:00", "2020-08-12T00:00:00", "2020-08-13T00:00:00"], "y": [null, null, null, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3, 0.3, 0.6571428571428571, 1.2142857142857142, 1.5285714285714285, 2.3000000000000003, 2.985714285714286, 3.3142857142857145, 4.628571428571429, 6.300000000000002, 8.957142857142859, 10.085714285714287, 10.62857142857143, 11.62857142857143, 12.285714285714286, 12.385714285714286, 12.314285714285715, 10.1, 9.957142857142857, 9.942857142857141, 10.314285714285715, 10.357142857142858, 10.571428571428571, 10.385714285714286, 11.471428571428572, 12.471428571428573, 13.771428571428574, 15.200000000000001, 16.585714285714285, 18.714285714285715, 19.2, 19.5, 19.857142857142858, 19.75714285714286, 19.285714285714285, 20.071428571428573, 19.142857142857142, 19.385714285714283, 19.285714285714285, 18.914285714285715, 18.342857142857145, 17.014285714285716, 16.157142857142862, 15.38571428571429, 14.628571428571433, 14.057142857142862, 13.328571428571435, 13.357142857142863, 13.414285714285722, 12.728571428571437, 12.357142857142863, 11.81428571428572, 11.414285714285722, 11.071428571428578, 10.157142857142862, 9.11428571428572, 8.38571428571429, 7.657142857142863, 7.357142857142862, 7.01428571428572, 6.528571428571434, 6.000000000000006, 5.857142857142863, 5.400000000000006, 5.042857142857149, 4.600000000000007, 4.257142857142863, 4.028571428571434, 3.885714285714291, 3.6000000000000054, 3.300000000000005, 2.985714285714291, 2.9142857142857195, 2.5428571428571485, 2.385714285714291, 2.3428571428571483, 2.4571428571428626, 2.185714285714291, 2.085714285714291, 1.8428571428571483, 1.742857142857148, 1.585714285714291, 1.4428571428571482, 1.2285714285714338, 1.242857142857148, 1.2285714285714335, 1.257142857142862, 1.257142857142862, 1.214285714285719, 1.114285714285719, 1.0571428571428618, 0.9285714285714334, 0.8714285714285762, 0.7857142857142904, 0.7571428571428618, 0.771428571428576, 0.7857142857142904, 0.8000000000000048, 0.7571428571428619, 0.7571428571428619, 0.7714285714285763, 0.7285714285714333, 0.6428571428571477, 0.6142857142857191, 0.5714285714285762, 0.614285714285719, 0.614285714285719, 0.5571428571428617, 0.5571428571428617, 0.5857142857142902, 0.6000000000000044, 0.6142857142857189, 0.5857142857142904, 0.5142857142857189, 0.5142857142857189, 0.4571428571428618, 0.42857142857143327, 0.4571428571428618, 0.4714285714285761, 0.4714285714285761, 0.5000000000000047, 0.5428571428571475, 0.614285714285719, 0.6714285714285761, 0.6714285714285761, 0.7428571428571475, 0.8000000000000046, 0.9000000000000047, 0.9714285714285761, 1.0428571428571474, 1.071428571428576, 1.1000000000000045, 1.128571428571433, 1.2142857142857186, 1.2428571428571473, 1.271428571428576, 1.3000000000000047, 1.371428571428576, 1.557142857142862, 1.7285714285714333, 1.771428571428576, 1.8571428571428616, 1.9714285714285757, 2.0142857142857187, 2.0714285714285756, 2.0714285714285756, 2.18571428571429, 2.257142857142861, 2.2857142857142896, 2.2714285714285753, 2.48571428571429, 2.6571428571428615, 2.7857142857142896, 2.7285714285714326, 2.9142857142857186, 2.98571428571429, 3.271428571428576, 3.314285714285719, 3.38571428571429, 3.48571428571429, 3.5285714285714325, 3.4714285714285755, 3.5142857142857187, 3.371428571428576, 3.3000000000000043, 3.257142857142861, 3.257142857142861, 3.6714285714285757, 3.8428571428571474, 4.000000000000004, 4.1285714285714326, 4.314285714285718, null, null, null]}],
                        {"dragmode": false, "height": 400, "hovermode": "x unified", "legend": {"font": {"color": "white", "family": "sans-serif"}, "traceorder": "normal", "x": 0.015, "y": 0.9}, "margin": {"b": 70, "l": 60, "r": 10, "t": 30}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"color": "#ffffff", "showgrid": true}, "yaxis": {"color": "#ffffff", "rangemode": "tozero", "showgrid": true, "type": "linear"}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('0d7fd455-1f9b-494e-aeca-06c96af78c7a');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="c1">#fig = px.bar(df_bag_test[df_bag_test[&#39;Datum&#39;] &gt;= &#39;2020-06-01&#39;], x=&quot;Datum&quot;, y=[&quot;pos_rate&quot;], barmode=&quot;group&quot;)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df_bag_test</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Datum&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pos_rate&quot;</span><span class="p">],</span> <span class="n">barmode</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">)</span>
<span class="c1">#fig.update_layout(title_text=&#39;Daily confirmed cases - Switzerland&#39;)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div>
        
        
            <div id="d961cf88-f5e7-4be4-8108-e5af8ddf5777" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};
                    
                if (document.getElementById("d961cf88-f5e7-4be4-8108-e5af8ddf5777")) {
                    Plotly.newPlot(
                        'd961cf88-f5e7-4be4-8108-e5af8ddf5777',
                        [{"alignmentgroup": "True", "hovertemplate": "variable=pos_rate<br>Datum=%{x}<br>value=%{y}<extra></extra>", "legendgroup": "pos_rate", "marker": {"color": "#636efa"}, "name": "pos_rate", "offsetgroup": "pos_rate", "orientation": "v", "showlegend": true, "textposition": "auto", "type": "bar", "x": ["2020-01-24T00:00:00", "2020-01-25T00:00:00", "2020-01-27T00:00:00", "2020-01-28T00:00:00", "2020-01-29T00:00:00", "2020-01-30T00:00:00", "2020-01-31T00:00:00", "2020-02-01T00:00:00", "2020-02-02T00:00:00", "2020-02-03T00:00:00", "2020-02-04T00:00:00", "2020-02-05T00:00:00", "2020-02-06T00:00:00", "2020-02-07T00:00:00", "2020-02-08T00:00:00", "2020-02-09T00:00:00", "2020-02-10T00:00:00", "2020-02-11T00:00:00", "2020-02-12T00:00:00", "2020-02-13T00:00:00", "2020-02-14T00:00:00", "2020-02-15T00:00:00", "2020-02-16T00:00:00", "2020-02-18T00:00:00", "2020-02-19T00:00:00", "2020-02-20T00:00:00", "2020-02-21T00:00:00", "2020-02-22T00:00:00", "2020-02-23T00:00:00", "2020-02-24T00:00:00", "2020-02-25T00:00:00", "2020-02-26T00:00:00", "2020-02-27T00:00:00", "2020-02-28T00:00:00", "2020-02-29T00:00:00", "2020-03-01T00:00:00", "2020-03-02T00:00:00", "2020-03-03T00:00:00", "2020-03-04T00:00:00", "2020-03-05T00:00:00", "2020-03-06T00:00:00", "2020-03-07T00:00:00", "2020-03-08T00:00:00", "2020-03-09T00:00:00", "2020-03-10T00:00:00", "2020-03-11T00:00:00", "2020-03-12T00:00:00", "2020-03-13T00:00:00", "2020-03-14T00:00:00", "2020-03-15T00:00:00", "2020-03-16T00:00:00", "2020-03-17T00:00:00", "2020-03-18T00:00:00", "2020-03-19T00:00:00", "2020-03-20T00:00:00", "2020-03-21T00:00:00", "2020-03-22T00:00:00", "2020-03-23T00:00:00", "2020-03-24T00:00:00", "2020-03-25T00:00:00", "2020-03-26T00:00:00", "2020-03-27T00:00:00", "2020-03-28T00:00:00", "2020-03-29T00:00:00", "2020-03-30T00:00:00", "2020-03-31T00:00:00", "2020-04-01T00:00:00", "2020-04-02T00:00:00", "2020-04-03T00:00:00", "2020-04-04T00:00:00", "2020-04-05T00:00:00", "2020-04-06T00:00:00", "2020-04-07T00:00:00", "2020-04-08T00:00:00", "2020-04-09T00:00:00", "2020-04-10T00:00:00", "2020-04-11T00:00:00", "2020-04-12T00:00:00", "2020-04-13T00:00:00", "2020-04-14T00:00:00", "2020-04-15T00:00:00", "2020-04-16T00:00:00", "2020-04-17T00:00:00", "2020-04-18T00:00:00", "2020-04-19T00:00:00", "2020-04-20T00:00:00", "2020-04-21T00:00:00", "2020-04-22T00:00:00", "2020-04-23T00:00:00", "2020-04-24T00:00:00", "2020-04-25T00:00:00", "2020-04-26T00:00:00", "2020-04-27T00:00:00", "2020-04-28T00:00:00", "2020-04-29T00:00:00", "2020-04-30T00:00:00", "2020-05-01T00:00:00", "2020-05-02T00:00:00", "2020-05-03T00:00:00", "2020-05-04T00:00:00", "2020-05-05T00:00:00", "2020-05-06T00:00:00", "2020-05-07T00:00:00", "2020-05-08T00:00:00", "2020-05-09T00:00:00", "2020-05-10T00:00:00", "2020-05-11T00:00:00", "2020-05-12T00:00:00", "2020-05-13T00:00:00", "2020-05-14T00:00:00", "2020-05-15T00:00:00", "2020-05-16T00:00:00", "2020-05-17T00:00:00", "2020-05-18T00:00:00", "2020-05-19T00:00:00", "2020-05-20T00:00:00", "2020-05-21T00:00:00", "2020-05-22T00:00:00", "2020-05-23T00:00:00", "2020-05-24T00:00:00", "2020-05-25T00:00:00", "2020-05-26T00:00:00", "2020-05-27T00:00:00", "2020-05-28T00:00:00", "2020-05-29T00:00:00", "2020-05-30T00:00:00", "2020-05-31T00:00:00", "2020-06-01T00:00:00", "2020-06-02T00:00:00", "2020-06-03T00:00:00", "2020-06-04T00:00:00", "2020-06-05T00:00:00", "2020-06-06T00:00:00", "2020-06-07T00:00:00", "2020-06-08T00:00:00", "2020-06-09T00:00:00", "2020-06-10T00:00:00", "2020-06-11T00:00:00", "2020-06-12T00:00:00", "2020-06-13T00:00:00", "2020-06-14T00:00:00", "2020-06-15T00:00:00", "2020-06-16T00:00:00", "2020-06-17T00:00:00", "2020-06-18T00:00:00", "2020-06-19T00:00:00", "2020-06-20T00:00:00", "2020-06-21T00:00:00", "2020-06-22T00:00:00", "2020-06-23T00:00:00", "2020-06-24T00:00:00", "2020-06-25T00:00:00", "2020-06-26T00:00:00", "2020-06-27T00:00:00", "2020-06-28T00:00:00", "2020-06-29T00:00:00", "2020-06-30T00:00:00", "2020-07-01T00:00:00", "2020-07-02T00:00:00", "2020-07-03T00:00:00", "2020-07-04T00:00:00", "2020-07-05T00:00:00", "2020-07-06T00:00:00", "2020-07-07T00:00:00", "2020-07-08T00:00:00", "2020-07-09T00:00:00", "2020-07-10T00:00:00", "2020-07-11T00:00:00", "2020-07-12T00:00:00", "2020-07-13T00:00:00", "2020-07-14T00:00:00", "2020-07-15T00:00:00", "2020-07-16T00:00:00", "2020-07-17T00:00:00", "2020-07-18T00:00:00", "2020-07-19T00:00:00", "2020-07-20T00:00:00", "2020-07-21T00:00:00", "2020-07-22T00:00:00", "2020-07-23T00:00:00", "2020-07-24T00:00:00", "2020-07-25T00:00:00", "2020-07-26T00:00:00", "2020-07-27T00:00:00", "2020-07-28T00:00:00", "2020-07-29T00:00:00", "2020-07-30T00:00:00", "2020-07-31T00:00:00", "2020-08-01T00:00:00", "2020-08-02T00:00:00", "2020-08-03T00:00:00", "2020-08-04T00:00:00", "2020-08-05T00:00:00", "2020-08-06T00:00:00", "2020-08-07T00:00:00", "2020-08-08T00:00:00", "2020-08-09T00:00:00", "2020-08-10T00:00:00", "2020-08-11T00:00:00", "2020-08-12T00:00:00"], "xaxis": "x", "y": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.1, 0.0, 2.5, 3.9, 2.2, 5.4, 4.8, 4.4, 9.2, 14.2, 22.5, 10.1, 9.2, 11.8, 9.0, 9.9, 13.7, 7.0, 9.1, 9.1, 14.4, 9.3, 11.4, 12.4, 14.6, 16.1, 18.2, 24.4, 19.0, 26.3, 15.8, 16.7, 18.6, 17.5, 21.1, 24.5, 19.8, 17.5, 16.0, 16.0, 13.5, 11.8, 18.5, 14.4, 12.2, 12.0, 10.9, 13.7, 12.2, 13.7, 11.8, 8.4, 9.2, 8.5, 7.3, 4.9, 8.6, 6.7, 6.3, 6.8, 5.1, 3.6, 3.9, 5.4, 4.2, 3.2, 4.4, 3.5, 2.6, 1.9, 3.3, 2.0, 2.7, 1.8, 2.4, 2.3, 2.7, 1.4, 1.3, 1.0, 1.1, 1.3, 1.3, 1.2, 1.5, 1.2, 1.2, 1.1, 1.0, 0.6, 0.8, 0.6, 0.8, 0.6, 0.9, 1.1, 0.7, 0.9, 0.3, 0.8, 0.7, 0.6, 0.5, 0.5, 0.6, 0.6, 0.8, 0.3, 0.6, 0.7, 0.6, 0.7, 0.4, 0.3, 0.3, 0.2, 0.5, 0.8, 0.8, 0.4, 0.5, 0.6, 0.7, 0.9, 0.8, 1.3, 0.8, 1.2, 1.1, 1.2, 1.1, 1.0, 1.5, 1.4, 1.4, 1.3, 1.4, 1.6, 2.3, 2.7, 1.7, 2.0, 2.1, 1.7, 2.0, 2.3, 3.5, 2.2, 2.2, 2.0, 3.2, 3.2, 3.2, 3.1, 3.5, 2.7, 4.0, 3.5, 3.7, 3.9, 3.4, 3.1, 3.0, 3.0, 3.0, 3.4, 3.9, 6.3, 4.3, 4.1, 4.0], "yaxis": "y"}],
                        {"barmode": "group", "legend": {"title": {"text": "variable"}, "tracegroupgap": 0}, "margin": {"t": 60}, "showlegend": false, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Datum"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "value"}}},
                        {"responsive": true}
                    ).then(function(){
                            
var gd = document.getElementById('d961cf88-f5e7-4be4-8108-e5af8ddf5777');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Switzerland">Switzerland<a class="anchor-link" href="#Switzerland"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">CANTONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;01&quot;</span><span class="p">:</span> <span class="s2">&quot;AG&quot;</span><span class="p">,</span>
    <span class="s2">&quot;02&quot;</span><span class="p">:</span> <span class="s2">&quot;AI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;03&quot;</span><span class="p">:</span> <span class="s2">&quot;AR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;04&quot;</span><span class="p">:</span> <span class="s2">&quot;BE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;05&quot;</span><span class="p">:</span> <span class="s2">&quot;BL&quot;</span><span class="p">,</span>
    <span class="s2">&quot;06&quot;</span><span class="p">:</span> <span class="s2">&quot;BS&quot;</span><span class="p">,</span>
    <span class="c1">#&quot;07&quot;: &quot;FL&quot;,</span>
    <span class="s2">&quot;08&quot;</span><span class="p">:</span> <span class="s2">&quot;FR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;09&quot;</span><span class="p">:</span> <span class="s2">&quot;GE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;10&quot;</span><span class="p">:</span> <span class="s2">&quot;GL&quot;</span><span class="p">,</span>
    <span class="s2">&quot;11&quot;</span><span class="p">:</span> <span class="s2">&quot;GR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;12&quot;</span><span class="p">:</span> <span class="s2">&quot;JU&quot;</span><span class="p">,</span>
    <span class="s2">&quot;13&quot;</span><span class="p">:</span> <span class="s2">&quot;LU&quot;</span><span class="p">,</span>
    <span class="s2">&quot;14&quot;</span><span class="p">:</span> <span class="s2">&quot;NE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;15&quot;</span><span class="p">:</span> <span class="s2">&quot;NW&quot;</span><span class="p">,</span>
    <span class="s2">&quot;16&quot;</span><span class="p">:</span> <span class="s2">&quot;OW&quot;</span><span class="p">,</span>
    <span class="s2">&quot;17&quot;</span><span class="p">:</span> <span class="s2">&quot;SG&quot;</span><span class="p">,</span>
    <span class="s2">&quot;18&quot;</span><span class="p">:</span> <span class="s2">&quot;SH&quot;</span><span class="p">,</span>
    <span class="s2">&quot;19&quot;</span><span class="p">:</span> <span class="s2">&quot;SO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;20&quot;</span><span class="p">:</span> <span class="s2">&quot;SZ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;21&quot;</span><span class="p">:</span> <span class="s2">&quot;TG&quot;</span><span class="p">,</span>
    <span class="s2">&quot;22&quot;</span><span class="p">:</span> <span class="s2">&quot;TI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;23&quot;</span><span class="p">:</span> <span class="s2">&quot;UR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;24&quot;</span><span class="p">:</span> <span class="s2">&quot;VD&quot;</span><span class="p">,</span>
    <span class="s2">&quot;26&quot;</span><span class="p">:</span> <span class="s2">&quot;VS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;27&quot;</span><span class="p">:</span> <span class="s2">&quot;ZG&quot;</span><span class="p">,</span>
    <span class="s2">&quot;28&quot;</span><span class="p">:</span> <span class="s2">&quot;ZH&quot;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add_diff_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">new_col</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="n">new_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Data">Data<a class="anchor-link" href="#Data"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">folder_v2</span> <span class="o">=</span> <span class="s1">&#39;/Users/eandreas/projects/dev/covid-19/openZH_covid-19/fallzahlen_kanton_total_csv_v2&#39;</span>
<span class="n">prefix_c_fn</span> <span class="o">=</span> <span class="s1">&#39;COVID19_Fallzahlen_Kanton&#39;</span>
<span class="n">prefix_fn</span> <span class="o">=</span> <span class="s1">&#39;COVID19_Fallzahlen&#39;</span>
<span class="n">postfix_fn</span> <span class="o">=</span> <span class="s1">&#39;total.csv&#39;</span>

<span class="n">dfs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CANTONS</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    
    <span class="c1">#c = &#39;ZH&#39;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;FL&quot;</span><span class="p">):</span>
        <span class="n">file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_v2</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">prefix_fn</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">postfix_fn</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">folder_v2</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">prefix_c_fn</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">postfix_fn</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">dfc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="c1"># mark current rows as reported by cantons</span>
    <span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    
    <span class="c1"># add rows for missing (unreported) days</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">dfc</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">dfc</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
    <span class="n">dfc</span> <span class="o">=</span> <span class="n">dfc</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
    <span class="n">dfc</span> <span class="o">=</span> <span class="n">dfc</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
    <span class="n">dfc</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
    <span class="n">dfc</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># flag added rows as &#39;reported = False&#39;</span>
    <span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">dfc</span><span class="p">[</span><span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;reported&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    
    <span class="c1"># fill unreported numbers (NaN) with number of last reported</span>
    <span class="n">dfc</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="c1"># fill missing values at the beginning with zero</span>
    <span class="n">dfc</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="c1"># add some columns with calculated values of interest</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span> <span class="s1">&#39;new_tested&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;new_conf&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;new_deceased&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_hosp&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_icu&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_vent&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_isolated&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;current_quarantined&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_quarantined&#39;</span><span class="p">)</span>
    <span class="n">add_diff_col</span><span class="p">(</span><span class="n">dfc</span><span class="p">,</span> <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span> <span class="s1">&#39;new_released&#39;</span><span class="p">)</span>
    
    <span class="c1"># append the dataframe and go on with the next canton</span>
    <span class="n">dfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dfc</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Canton: </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">; </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">dfc</span><span class="o">.</span><span class="n">ncumul_tested</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="c1">#break</span>

<span class="c1"># sum up all the cantons dataframes</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Canton: AG; 1
Canton: AI; 1
Canton: AR; 1
Canton: BE; 1
Canton: BL; 1
Canton: BS; 2
Canton: FR; 1
Canton: GE; 134
Canton: GL; 1
Canton: GR; 1
Canton: JU; 1
Canton: LU; 1
Canton: NE; 1
Canton: NW; 1
Canton: OW; 1
Canton: SG; 1
Canton: SH; 1
Canton: SO; 1
Canton: SZ; 4
Canton: TG; 3
Canton: TI; 1
Canton: UR; 2
Canton: VD; 1
Canton: VS; 1
Canton: ZG; 1
Canton: ZH; 1
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="o">.</span><span class="n">ncumul_tested</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>163    0.0
164    0.0
165    0.0
166    0.0
167    0.0
Name: ncumul_tested, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">idx</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>DatetimeIndex([&#39;2020-02-28&#39;, &#39;2020-02-29&#39;, &#39;2020-03-01&#39;, &#39;2020-03-02&#39;,
               &#39;2020-03-03&#39;, &#39;2020-03-04&#39;, &#39;2020-03-05&#39;, &#39;2020-03-06&#39;,
               &#39;2020-03-07&#39;, &#39;2020-03-08&#39;,
               ...
               &#39;2020-08-03&#39;, &#39;2020-08-04&#39;, &#39;2020-08-05&#39;, &#39;2020-08-06&#39;,
               &#39;2020-08-07&#39;, &#39;2020-08-08&#39;, &#39;2020-08-09&#39;, &#39;2020-08-10&#39;,
               &#39;2020-08-11&#39;, &#39;2020-08-12&#39;],
              dtype=&#39;datetime64[ns]&#39;, name=&#39;date&#39;, length=167, freq=&#39;D&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/Users/eandreas/projects/dev/covid-19//openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv&#39;</span><span class="p">)</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span> <span class="s1">&#39;new_tested&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;new_conf&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;new_deceased&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_hosp&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_icu&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_vent&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_isolated&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_quarantined&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_quarantined&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span> <span class="s1">&#39;new_released&#39;</span><span class="p">)</span>

<span class="n">df_ch_calc</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">df_ch_calc</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_ch</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-26-fc674618170c&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">     12</span> add_diff_col<span class="ansi-blue-fg">(</span>df_ch<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;ncumul_released&#39;</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;new_released&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     13</span> 
<span class="ansi-green-fg">---&gt; 14</span><span class="ansi-red-fg"> </span>df_ch_calc <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">.</span>groupby<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>sum<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     15</span> df_ch_calc<span class="ansi-blue-fg">.</span>reset_index<span class="ansi-blue-fg">(</span>level<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> inplace<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     16</span> 

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-27-4add252522c8&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df<span class="ansi-blue-fg">.</span>tail<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">ls</span> ../openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>../openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-29-7ad0b078fe23&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>values

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_c</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;abbreviation_canton_and_fl&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_conf&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_conf&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_deceased&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_tested&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_tested&#39;</span><span class="p">],</span>
        <span class="c1">#df[&#39;new_conf&#39;] / df[&#39;new_tested&#39;],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_hosp&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;current_hosp&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;delta_hosp&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;current_icu&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;delta_icu&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;current_vent&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;delta_vent&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_released&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_released&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;current_isolated&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;delta_isolated&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;current_quarantined&#39;</span><span class="p">],</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;delta_quarantined&#39;</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;date&#39;</span><span class="p">,</span>
        <span class="s1">&#39;time&#39;</span><span class="p">,</span>
        <span class="s1">&#39;canton&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span>
        <span class="s1">&#39;new_conf&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ncumul_deceased&#39;</span>
        <span class="s1">&#39;new_deceased&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span>
        <span class="s1">&#39;new_tested&#39;</span><span class="p">,</span>
        <span class="c1">#&#39;test_rate_pos&#39;,</span>
        <span class="s1">&#39;new_hosp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;delta_hosp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span>
        <span class="s1">&#39;delta_icu&#39;</span><span class="p">,</span>
        <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span>
        <span class="s1">&#39;delta_vent&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span>
        <span class="s1">&#39;new_released&#39;</span><span class="p">,</span>
        <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span>
        <span class="s1">&#39;delta_isolated&#39;</span><span class="p">,</span>
        <span class="s1">&#39;current_quarantined&#39;</span><span class="p">,</span>
        <span class="s1">&#39;delta_quarantined&#39;</span>
    <span class="p">])</span>

<span class="n">df_c</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-30-670800317d18&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> df_c = pd.concat(
<span class="ansi-green-intense-fg ansi-bold">      2</span>     [
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg">         </span>df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>         df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;time&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>         df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;abbreviation_canton_and_fl&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Work-in-Progress">Work in Progress<a class="anchor-link" href="#Work-in-Progress"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;new_conf&#39;</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2645</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2646</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;date&#39;

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-31-f30483d908a1&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df_ch<span class="ansi-blue-fg">.</span>plot<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">,</span> y<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;new_conf&#39;</span><span class="ansi-blue-fg">,</span> kind <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;bar&#39;</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/plotting/_core.py</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    810</span>                 <span class="ansi-green-fg">if</span> is_integer<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">and</span> <span class="ansi-green-fg">not</span> data<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>holds_integer<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    811</span>                     x <span class="ansi-blue-fg">=</span> data_cols<span class="ansi-blue-fg">[</span>x<span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">--&gt; 812</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">elif</span> <span class="ansi-green-fg">not</span> isinstance<span class="ansi-blue-fg">(</span>data<span class="ansi-blue-fg">[</span>x<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> ABCSeries<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    813</span>                     <span class="ansi-green-fg">raise</span> ValueError<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;x must be a label or position&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    814</span>                 data <span class="ansi-blue-fg">=</span> data<span class="ansi-blue-fg">.</span>set_index<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/frame.py</span> in <span class="ansi-cyan-fg">__getitem__</span><span class="ansi-blue-fg">(self, key)</span>
<span class="ansi-green-intense-fg ansi-bold">   2798</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>nlevels <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2799</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_getitem_multilevel<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 2800</span><span class="ansi-red-fg">             </span>indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2801</span>             <span class="ansi-green-fg">if</span> is_integer<span class="ansi-blue-fg">(</span>indexer<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2802</span>                 indexer <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>indexer<span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2646</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2648</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>_maybe_cast_indexer<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2649</span>         indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>get_indexer<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> method<span class="ansi-blue-fg">=</span>method<span class="ansi-blue-fg">,</span> tolerance<span class="ansi-blue-fg">=</span>tolerance<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2650</span>         <span class="ansi-green-fg">if</span> indexer<span class="ansi-blue-fg">.</span>ndim <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span> <span class="ansi-green-fg">or</span> indexer<span class="ansi-blue-fg">.</span>size <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;date&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch_calc</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;new_conf&#39;</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-32-3ca78613ac7d&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df_ch_calc<span class="ansi-blue-fg">.</span>plot<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">,</span> y<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;new_conf&#39;</span><span class="ansi-blue-fg">,</span> kind <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;bar&#39;</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df_ch_calc&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Unused">Unused<a class="anchor-link" href="#Unused"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="p">[</span><span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;20200701&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2645</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2646</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;date&#39;

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-33-e892d702af5c&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df_ch<span class="ansi-blue-fg">[</span>df_ch<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">&gt;=</span> <span class="ansi-blue-fg">&#39;20200701&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>head<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/frame.py</span> in <span class="ansi-cyan-fg">__getitem__</span><span class="ansi-blue-fg">(self, key)</span>
<span class="ansi-green-intense-fg ansi-bold">   2798</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>nlevels <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2799</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_getitem_multilevel<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 2800</span><span class="ansi-red-fg">             </span>indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2801</span>             <span class="ansi-green-fg">if</span> is_integer<span class="ansi-blue-fg">(</span>indexer<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2802</span>                 indexer <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>indexer<span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/covid-19/lib/python3.8/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2646</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2647</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2648</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>_maybe_cast_indexer<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2649</span>         indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>get_indexer<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> method<span class="ansi-blue-fg">=</span>method<span class="ansi-blue-fg">,</span> tolerance<span class="ansi-blue-fg">=</span>tolerance<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2650</span>         <span class="ansi-green-fg">if</span> indexer<span class="ansi-blue-fg">.</span>ndim <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span> <span class="ansi-green-fg">or</span> indexer<span class="ansi-blue-fg">.</span>size <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;date&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;2020-06-22&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-34-26df4a7cf415&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>mask <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">(</span>df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#39;2020-06-22&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> 
<span class="ansi-green-intense-fg ansi-bold">      3</span> df<span class="ansi-blue-fg">.</span>loc<span class="ansi-blue-fg">[</span>mask<span class="ansi-blue-fg">]</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;abbreviation_canton_and_fl&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AG&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_tested&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;ipython-input-35-dc3caab8729d&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">3</span>
<span class="ansi-red-fg">    df[&#39;new_tested&#39;].loc(mask) = 1</span>
    ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> cannot assign to function call
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cantons</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">abbreviation_canton_and_fl</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cantons</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_tested&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_tested&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    
    <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-36-f898fb7fa948&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>cantons <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">.</span>abbreviation_canton_and_fl<span class="ansi-blue-fg">.</span>unique<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> 
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-green-fg">for</span> c <span class="ansi-green-fg">in</span> cantons<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     print<span class="ansi-blue-fg">(</span>c<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>     df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;new_tested&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;ncumul_tested&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>diff<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_tested&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_tested&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_conf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ncumul_conf&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>

<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-37-59ae595c5b03&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;new_tested&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;ncumul_tested&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>diff<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;new_conf&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;ncumul_conf&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>diff<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> 
<span class="ansi-green-intense-fg ansi-bold">      4</span> df

<span class="ansi-red-fg">NameError</span>: name &#39;df&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="n">df_ch_calc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">df_ch_calc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">value</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-38-f0fa3643f93e&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">import</span> datetime <span class="ansi-green-fg">as</span> dt
<span class="ansi-green-intense-fg ansi-bold">      2</span> 
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg"> </span>df_ch_calc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>max<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>value <span class="ansi-blue-fg">-</span> df_ch_calc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>min<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>value

<span class="ansi-red-fg">NameError</span>: name &#39;df_ch_calc&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">df_ch_calc</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-39-c6f356217fe5&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>dt<span class="ansi-blue-fg">.</span>datetime<span class="ansi-blue-fg">(</span>df_ch_calc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;date&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>max<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>value<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;df_ch_calc&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/Users/eandreas/projects/dev/covid-19//openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv&#39;</span><span class="p">)</span>
<span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Create a row for every day</span>
<span class="n">all_days</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">df_ch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">all_days</span><span class="p">)</span>
<span class="c1"># Fill missing values with previous day&#39;s number</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;pad&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Now there are only missing values at the start</span>
<span class="c1"># of the series, so set them to zero</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_ch</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_tested&#39;</span><span class="p">,</span> <span class="s1">&#39;new_tested&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;new_conf&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;new_deceased&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_hosp&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_hosp&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_icu&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_icu&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_vent&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_vent&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_isolated&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_isolated&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;current_quarantined&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_quarantined&#39;</span><span class="p">)</span>
<span class="n">add_diff_col</span><span class="p">(</span><span class="n">df_ch</span><span class="p">,</span> <span class="s1">&#39;ncumul_released&#39;</span><span class="p">,</span> <span class="s1">&#39;new_released&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>ncumul_tested</th>
      <th>ncumul_conf</th>
      <th>new_hosp</th>
      <th>current_hosp</th>
      <th>current_icu</th>
      <th>current_vent</th>
      <th>ncumul_released</th>
      <th>ncumul_deceased</th>
      <th>current_isolated</th>
      <th>current_quarantined</th>
      <th>new_tested</th>
      <th>new_conf</th>
      <th>new_deceased</th>
      <th>delta_hosp</th>
      <th>delta_icu</th>
      <th>delta_vent</th>
      <th>delta_isolated</th>
      <th>delta_quarantined</th>
      <th>new_released</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-01-24</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-01-25</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-01-26</td>
      <td>11.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-01-27</td>
      <td>18.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-01-28</td>
      <td>27.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>198</th>
      <td>2020-08-09</td>
      <td>0.0</td>
      <td>28985.0</td>
      <td>0.0</td>
      <td>56.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>3135.0</td>
      <td>1389.0</td>
      <td>731.0</td>
      <td>1780.0</td>
      <td>0.0</td>
      <td>-1985.0</td>
      <td>-163.0</td>
      <td>-9.0</td>
      <td>-4.0</td>
      <td>0.0</td>
      <td>-8.0</td>
      <td>-44.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>199</th>
      <td>2020-08-10</td>
      <td>0.0</td>
      <td>36919.0</td>
      <td>0.0</td>
      <td>106.0</td>
      <td>16.0</td>
      <td>7.0</td>
      <td>5125.0</td>
      <td>1907.0</td>
      <td>879.0</td>
      <td>3194.0</td>
      <td>0.0</td>
      <td>7934.0</td>
      <td>518.0</td>
      <td>50.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>148.0</td>
      <td>1414.0</td>
      <td>1990.0</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2020-08-11</td>
      <td>0.0</td>
      <td>30939.0</td>
      <td>1.0</td>
      <td>77.0</td>
      <td>11.0</td>
      <td>6.0</td>
      <td>5147.0</td>
      <td>1483.0</td>
      <td>912.0</td>
      <td>2215.0</td>
      <td>0.0</td>
      <td>-5980.0</td>
      <td>-424.0</td>
      <td>-29.0</td>
      <td>-5.0</td>
      <td>-1.0</td>
      <td>33.0</td>
      <td>-979.0</td>
      <td>22.0</td>
    </tr>
    <tr>
      <th>201</th>
      <td>2020-08-12</td>
      <td>0.0</td>
      <td>22895.0</td>
      <td>0.0</td>
      <td>94.0</td>
      <td>20.0</td>
      <td>12.0</td>
      <td>5165.0</td>
      <td>1134.0</td>
      <td>557.0</td>
      <td>965.0</td>
      <td>0.0</td>
      <td>-8044.0</td>
      <td>-349.0</td>
      <td>17.0</td>
      <td>9.0</td>
      <td>6.0</td>
      <td>-355.0</td>
      <td>-1250.0</td>
      <td>18.0</td>
    </tr>
    <tr>
      <th>202</th>
      <td>2020-08-13</td>
      <td>0.0</td>
      <td>9192.0</td>
      <td>0.0</td>
      <td>24.0</td>
      <td>10.0</td>
      <td>4.0</td>
      <td>2826.0</td>
      <td>609.0</td>
      <td>50.0</td>
      <td>70.0</td>
      <td>0.0</td>
      <td>-13703.0</td>
      <td>-525.0</td>
      <td>-70.0</td>
      <td>-10.0</td>
      <td>-8.0</td>
      <td>-507.0</td>
      <td>-895.0</td>
      <td>-2339.0</td>
    </tr>
  </tbody>
</table>
<p>203 rows × 20 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>ncumul_tested</th>
      <th>ncumul_conf</th>
      <th>new_hosp</th>
      <th>current_hosp</th>
      <th>current_icu</th>
      <th>current_vent</th>
      <th>ncumul_released</th>
      <th>ncumul_deceased</th>
      <th>current_isolated</th>
      <th>current_quarantined</th>
      <th>new_tested</th>
      <th>new_conf</th>
      <th>new_deceased</th>
      <th>delta_hosp</th>
      <th>delta_icu</th>
      <th>delta_vent</th>
      <th>delta_isolated</th>
      <th>delta_quarantined</th>
      <th>new_released</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>198</th>
      <td>2020-08-09</td>
      <td>0.0</td>
      <td>28985.0</td>
      <td>0.0</td>
      <td>56.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>3135.0</td>
      <td>1389.0</td>
      <td>731.0</td>
      <td>1780.0</td>
      <td>0.0</td>
      <td>-1985.0</td>
      <td>-163.0</td>
      <td>-9.0</td>
      <td>-4.0</td>
      <td>0.0</td>
      <td>-8.0</td>
      <td>-44.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>199</th>
      <td>2020-08-10</td>
      <td>0.0</td>
      <td>36919.0</td>
      <td>0.0</td>
      <td>106.0</td>
      <td>16.0</td>
      <td>7.0</td>
      <td>5125.0</td>
      <td>1907.0</td>
      <td>879.0</td>
      <td>3194.0</td>
      <td>0.0</td>
      <td>7934.0</td>
      <td>518.0</td>
      <td>50.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>148.0</td>
      <td>1414.0</td>
      <td>1990.0</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2020-08-11</td>
      <td>0.0</td>
      <td>30939.0</td>
      <td>1.0</td>
      <td>77.0</td>
      <td>11.0</td>
      <td>6.0</td>
      <td>5147.0</td>
      <td>1483.0</td>
      <td>912.0</td>
      <td>2215.0</td>
      <td>0.0</td>
      <td>-5980.0</td>
      <td>-424.0</td>
      <td>-29.0</td>
      <td>-5.0</td>
      <td>-1.0</td>
      <td>33.0</td>
      <td>-979.0</td>
      <td>22.0</td>
    </tr>
    <tr>
      <th>201</th>
      <td>2020-08-12</td>
      <td>0.0</td>
      <td>22895.0</td>
      <td>0.0</td>
      <td>94.0</td>
      <td>20.0</td>
      <td>12.0</td>
      <td>5165.0</td>
      <td>1134.0</td>
      <td>557.0</td>
      <td>965.0</td>
      <td>0.0</td>
      <td>-8044.0</td>
      <td>-349.0</td>
      <td>17.0</td>
      <td>9.0</td>
      <td>6.0</td>
      <td>-355.0</td>
      <td>-1250.0</td>
      <td>18.0</td>
    </tr>
    <tr>
      <th>202</th>
      <td>2020-08-13</td>
      <td>0.0</td>
      <td>9192.0</td>
      <td>0.0</td>
      <td>24.0</td>
      <td>10.0</td>
      <td>4.0</td>
      <td>2826.0</td>
      <td>609.0</td>
      <td>50.0</td>
      <td>70.0</td>
      <td>0.0</td>
      <td>-13703.0</td>
      <td>-525.0</td>
      <td>-70.0</td>
      <td>-10.0</td>
      <td>-8.0</td>
      <td>-507.0</td>
      <td>-895.0</td>
      <td>-2339.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_ch</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/Users/eandreas/projects/dev/covid-19//openZH_covid-19/COVID19_Fallzahlen_CH_total_v2.csv&#39;</span><span class="p">)</span>
<span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_ch</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>

<span class="c1"># Create a row for every day</span>
<span class="n">all_days</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">df_ch</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="n">df_ch</span> <span class="o">=</span> <span class="n">df_ch</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">all_days</span><span class="p">)</span>
<span class="c1"># Fill missing values with previous day&#39;s number</span>
<span class="n">df_ch</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;pad&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Now there are only missing values at the start</span>
<span class="c1"># of the series, so set them to zero</span>
<span class="c1">#df_ch.fillna(value=0, inplace=True)</span>

<span class="n">df_ch</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>time</th>
      <th>abbreviation_canton_and_fl</th>
      <th>ncumul_tested</th>
      <th>ncumul_conf</th>
      <th>new_hosp</th>
      <th>current_hosp</th>
      <th>current_icu</th>
      <th>current_vent</th>
      <th>ncumul_released</th>
      <th>ncumul_deceased</th>
      <th>source</th>
      <th>current_isolated</th>
      <th>current_quarantined</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-24</th>
      <td>NaT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2020-01-25</th>
      <td>NaT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2020-01-26</th>
      <td>NaT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2020-01-27</th>
      <td>NaT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2020-01-28</th>
      <td>NaT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_days</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>DatetimeIndex([&#39;2020-01-24&#39;, &#39;2020-01-25&#39;, &#39;2020-01-26&#39;, &#39;2020-01-27&#39;,
               &#39;2020-01-28&#39;, &#39;2020-01-29&#39;, &#39;2020-01-30&#39;, &#39;2020-01-31&#39;,
               &#39;2020-02-01&#39;, &#39;2020-02-02&#39;,
               ...
               &#39;2020-08-04&#39;, &#39;2020-08-05&#39;, &#39;2020-08-06&#39;, &#39;2020-08-07&#39;,
               &#39;2020-08-08&#39;, &#39;2020-08-09&#39;, &#39;2020-08-10&#39;, &#39;2020-08-11&#39;,
               &#39;2020-08-12&#39;, &#39;2020-08-13&#39;],
              dtype=&#39;datetime64[ns]&#39;, length=203, freq=&#39;D&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

